{
  "version": 3,
  "sources": ["../../supertokens-auth-react/lib/build/multitenancy-shared.js", "../../supertokens-web-js/lib/build/recipe/multifactorauth/utils.js", "../../supertokens-web-js/lib/build/recipe/multifactorauth/multiFactorAuthClaim.js", "../../supertokens-web-js/lib/build/recipe/multifactorauth/recipeImplementation.js", "../../supertokens-website/utils/sessionClaimValidatorStore/index.js", "../../supertokens-web-js/lib/build/recipe/multifactorauth/recipe.js", "../../supertokens-web-js/lib/build/recipe/multifactorauth/index.js", "../../supertokens-web-js/recipe/multifactorauth/index.js", "../../supertokens-web-js/lib/build/sessionClaimValidatorStore.js", "../../supertokens-web-js/utils/sessionClaimValidatorStore.js", "../../supertokens-auth-react/lib/build/multifactorauth-shared2.js", "../../supertokens-auth-react/lib/build/index2.js"],
  "sourcesContent": ["\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar superTokens = require(\"./superTokens.js\");\n\nvar _a = genericComponentOverrideContext.createGenericComponentsOverrideContext(\n        undefined,\n        superTokens.Multitenancy.RECIPE_ID\n    ),\n    useContext = _a[0],\n    Provider = _a[1];\n\nexports.Provider = Provider;\nexports.useContext = useContext;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkFactorRequirement = exports.normaliseUserInput = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../authRecipe/utils\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\nfunction checkFactorRequirement(req, completedFactors) {\n    return {\n        id: req,\n        isValid: completedFactors[req] !== undefined,\n        message: \"Not completed\",\n    };\n}\nexports.checkFactorRequirement = checkFactorRequirement;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiFactorAuthClaimClass = void 0;\nvar utils_1 = require(\"./utils\");\n/**\n * We include \"Class\" in the class name, because it makes it easier to import/use the right thing (the instance exported by the recipe) instead of this.\n * */\nvar MultiFactorAuthClaimClass = /** @class */ (function () {\n    function MultiFactorAuthClaimClass(getRecipeImpl) {\n        var _this = this;\n        this.getRecipeImpl = getRecipeImpl;\n        this.id = \"st-mfa\";\n        this.validators = {\n            hasCompletedMFARequirementsForAuth: function () {\n                return {\n                    id: _this.id,\n                    refresh: function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return _this.refresh.apply(_this, args);\n                    },\n                    shouldRefresh: function (payload, userContext) {\n                        var val = _this.getValueFromPayload(payload, userContext);\n                        return val === undefined;\n                    },\n                    validate: function (payload, userContext) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var val;\n                            return __generator(this, function (_a) {\n                                val = this.getValueFromPayload(payload, userContext);\n                                if (val === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"MFA info not available in payload\",\n                                            },\n                                        },\n                                    ];\n                                }\n                                if (val.v) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: true,\n                                        },\n                                    ];\n                                }\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        isValid: false,\n                                        reason: {\n                                            message: \"not all required factors have been completed\",\n                                        },\n                                    },\n                                ];\n                            });\n                        });\n                    },\n                };\n            },\n            hasCompletedFactors: function (requirements) {\n                return {\n                    id: _this.id,\n                    shouldRefresh: function (payload, userContext) {\n                        var val = _this.getValueFromPayload(payload, userContext);\n                        return val === undefined;\n                    },\n                    refresh: function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return _this.refresh.apply(_this, args);\n                    },\n                    validate: function (payload, userContext) {\n                        var val = _this.getValueFromPayload(payload, userContext);\n                        if (val === undefined) {\n                            return {\n                                isValid: false,\n                                reason: {\n                                    message: \"MFA info not available in payload\",\n                                },\n                            };\n                        }\n                        var completedFactors = val.c;\n                        for (var _i = 0, requirements_1 = requirements; _i < requirements_1.length; _i++) {\n                            var req = requirements_1[_i];\n                            if (typeof req === \"object\" && \"oneOf\" in req) {\n                                var res = req.oneOf\n                                    .map(function (r) {\n                                        return (0, utils_1.checkFactorRequirement)(r, completedFactors);\n                                    })\n                                    .filter(function (v) {\n                                        return v.isValid === false;\n                                    });\n                                if (res.length === req.oneOf.length) {\n                                    return {\n                                        isValid: false,\n                                        reason: {\n                                            message: \"All factor checkers failed in the list\",\n                                            oneOf: req.oneOf,\n                                            failures: res,\n                                        },\n                                    };\n                                }\n                            } else if (typeof req === \"object\" && \"allOfInAnyOrder\" in req) {\n                                var res = req.allOfInAnyOrder\n                                    .map(function (r) {\n                                        return (0, utils_1.checkFactorRequirement)(r, completedFactors);\n                                    })\n                                    .filter(function (v) {\n                                        return v.isValid === false;\n                                    });\n                                if (res.length !== 0) {\n                                    return {\n                                        isValid: false,\n                                        reason: {\n                                            message: \"Some factor checkers failed in the list\",\n                                            allOfInAnyOrder: req.allOfInAnyOrder,\n                                            failures: res,\n                                        },\n                                    };\n                                }\n                            } else {\n                                var res = (0, utils_1.checkFactorRequirement)(req, completedFactors);\n                                if (res.isValid !== true) {\n                                    return {\n                                        isValid: false,\n                                        reason: {\n                                            message: \"Factor validation failed: \" + res.message,\n                                            factorId: res.id,\n                                        },\n                                    };\n                                }\n                            }\n                        }\n                        return {\n                            isValid: true,\n                        };\n                    },\n                };\n            },\n        };\n    }\n    MultiFactorAuthClaimClass.prototype.refresh = function (userContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        return [4 /*yield*/, this.getRecipeImpl().resyncSessionAndFetchMFAInfo(userContext)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MultiFactorAuthClaimClass.prototype.getValueFromPayload = function (payload, _userContext) {\n        if (payload[this.id] === undefined) {\n            return undefined;\n        }\n        return {\n            c: payload[this.id].c,\n            v: payload[this.id].v,\n        };\n    };\n    MultiFactorAuthClaimClass.prototype.getLastFetchedTime = function (payload, _userContext) {\n        var _a;\n        return (_a = payload[this.id]) === null || _a === void 0 ? void 0 : _a.t;\n    };\n    return MultiFactorAuthClaimClass;\n})();\nexports.MultiFactorAuthClaimClass = MultiFactorAuthClaimClass;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRecipeImplementation = void 0;\nvar querier_1 = require(\"../../querier\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        resyncSessionAndFetchMFAInfo: function (_a) {\n            var options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                querier.put(\n                                    \"/mfa/info\",\n                                    {},\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_MFA_INFO\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_MFA_INFO\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [2 /*return*/, __assign(__assign({}, jsonBody), { fetchResponse: fetchResponse })];\n                    }\n                });\n            });\n        },\n    };\n}\nexports.default = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\nlet d = require(\"../../lib/build/utils/sessionClaimValidatorStore\");\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\nvar utils_1 = require(\"./utils\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar utils_2 = require(\"../../utils\");\nvar authRecipe_1 = require(\"../authRecipe\");\nvar postSuperTokensInitCallbacks_1 = require(\"../../postSuperTokensInitCallbacks\");\nvar sessionClaimValidatorStore_1 = require(\"supertokens-website/utils/sessionClaimValidatorStore\");\nvar multiFactorAuthClaim_1 = require(\"./multiFactorAuthClaim\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                clientType: _this.config.clientType,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        postSuperTokensInitCallbacks_1.PostSuperTokensInitCallbacks.addPostInitCallback(function () {\n            sessionClaimValidatorStore_1.SessionClaimValidatorStore.addClaimValidatorFromOtherRecipe(\n                Recipe.MultiFactorAuthClaim.validators.hasCompletedMFARequirementsForAuth()\n            );\n        });\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, clientType, _enableDebugLogs, overrideMaps) {\n            Recipe.instance = new Recipe(\n                __assign(\n                    __assign(\n                        {},\n                        (0, utils_2.applyPlugins)(\n                            Recipe.RECIPE_ID,\n                            config,\n                            overrideMaps !== null && overrideMaps !== void 0 ? overrideMaps : []\n                        )\n                    ),\n                    { recipeId: Recipe.RECIPE_ID, appInfo: appInfo, clientType: clientType }\n                )\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of MultiFactorAuth found. Make sure to call the MultiFactorAuth.init method.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"multifactorauth\";\n    Recipe.MultiFactorAuthClaim = new multiFactorAuthClaim_1.MultiFactorAuthClaimClass(function () {\n        return Recipe.getInstanceOrThrow().recipeImplementation;\n    });\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiFactorAuthClaimClass =\n    exports.MultiFactorAuthClaim =\n    exports.resyncSessionAndFetchMFAInfo =\n    exports.init =\n        void 0;\nvar multiFactorAuthClaim_1 = require(\"./multiFactorAuthClaim\");\nObject.defineProperty(exports, \"MultiFactorAuthClaimClass\", {\n    enumerable: true,\n    get: function () {\n        return multiFactorAuthClaim_1.MultiFactorAuthClaimClass;\n    },\n});\nvar recipe_1 = require(\"./recipe\");\nvar utils_1 = require(\"../../utils\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    /**\n     * Loads information about what factors the current session can set up/complete and updates the requirements in the session payload\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{ status: \"OK\", ...}` if successful\n     */\n    RecipeWrapper.resyncSessionAndFetchMFAInfo = function (input) {\n        var _a;\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.resyncSessionAndFetchMFAInfo({\n            options:\n                (_a = input === null || input === void 0 ? void 0 : input.options) !== null && _a !== void 0 ? _a : {},\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.MultiFactorAuthClaim = recipe_1.default.MultiFactorAuthClaim;\n    return RecipeWrapper;\n})();\nexports.default = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar resyncSessionAndFetchMFAInfo = RecipeWrapper.resyncSessionAndFetchMFAInfo;\nexports.resyncSessionAndFetchMFAInfo = resyncSessionAndFetchMFAInfo;\nvar MultiFactorAuthClaim = RecipeWrapper.MultiFactorAuthClaim;\nexports.MultiFactorAuthClaim = MultiFactorAuthClaim;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/recipe/multifactorauth\"));\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionClaimValidatorStore = void 0;\nvar sessionClaimValidatorStore_1 = require(\"supertokens-website/utils/sessionClaimValidatorStore\");\nObject.defineProperty(exports, \"SessionClaimValidatorStore\", {\n    enumerable: true,\n    get: function () {\n        return sessionClaimValidatorStore_1.SessionClaimValidatorStore;\n    },\n});\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/sessionClaimValidatorStore\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "\"use strict\";\n\nvar utils = require(\"./utils.js\");\nvar MultiFactorAuthWebJS = require(\"supertokens-web-js/recipe/multifactorauth\");\nvar utils$1 = require(\"supertokens-web-js/utils\");\nvar postSuperTokensInitCallbacks = require(\"supertokens-web-js/utils/postSuperTokensInitCallbacks\");\nvar sessionClaimValidatorStore = require(\"supertokens-web-js/utils/sessionClaimValidatorStore\");\nvar windowHandler = require(\"supertokens-web-js/utils/windowHandler\");\nvar superTokens = require(\"./superTokens.js\");\nvar index = require(\"./recipeModule-shared.js\");\nvar types = require(\"./multifactorauth-shared.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar MultiFactorAuthWebJS__default = /*#__PURE__*/ _interopDefault(MultiFactorAuthWebJS);\n\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar DEFAULT_FACTOR_CHOOSER_PATH = \"/mfa\";\nvar MFA_INFO_CACHE_KEY = \"st-mfa-info-cache\";\n\n// This is a simple in-memory lock using a promise\n// We do not need anything more complex than this, since the cache we are locking is in sessionStorage anyway.\nvar lockProm = undefined;\nvar getFunctionOverrides = function (\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _onHandleEvent\n) {\n    return function (originalImp) {\n        return utils.__assign(utils.__assign({}, originalImp), {\n            resyncSessionAndFetchMFAInfo: function (input) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var stWindow, stored, parsed, unlock, stored_1, parsed, val;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                stWindow = windowHandler.WindowHandlerReference.getReferenceOrThrow();\n                                // If someone is refreshing from the server we wait for it to finish.\n                                return [4 /*yield*/, lockProm];\n                            case 1:\n                                // If someone is refreshing from the server we wait for it to finish.\n                                _a.sent();\n                                return [4 /*yield*/, stWindow.windowHandler.sessionStorage.getItem(MFA_INFO_CACHE_KEY)];\n                            case 2:\n                                stored = _a.sent();\n                                if (stored !== null) {\n                                    parsed = JSON.parse(stored);\n                                    if (parsed.t > Date.now() - 1000) {\n                                        return [\n                                            2 /*return*/,\n                                            utils.__assign(utils.__assign({}, parsed.v), {\n                                                // Adding a fake response is not great, but we do want to add something and this way it's detectable by the app\n                                                // so they could even add specific handling for it if they preferred.\n                                                fetchResponse: new Response(null, { status: 304 }),\n                                            }),\n                                        ];\n                                    }\n                                }\n                                _a.label = 3;\n                            case 3:\n                                if (!(lockProm !== undefined)) return [3 /*break*/, 5];\n                                return [4 /*yield*/, lockProm];\n                            case 4:\n                                _a.sent();\n                                return [3 /*break*/, 3];\n                            case 5:\n                                lockProm = new Promise(function (res) {\n                                    return (unlock = res);\n                                });\n                                _a.label = 6;\n                            case 6:\n                                _a.trys.push([6, , 11, 12]);\n                                return [4 /*yield*/, stWindow.windowHandler.sessionStorage.getItem(MFA_INFO_CACHE_KEY)];\n                            case 7:\n                                stored_1 = _a.sent();\n                                if (stored_1 !== null) {\n                                    parsed = JSON.parse(stored_1);\n                                    if (parsed.t > Date.now() - 1000) {\n                                        return [\n                                            2 /*return*/,\n                                            utils.__assign(utils.__assign({}, parsed.v), {\n                                                // Adding a fake response is not great, but we do want to add something and this way it's detectable by the app\n                                                // so they could even add specific handling for it if they preferred.\n                                                fetchResponse: new Response(null, { status: 304 }),\n                                            }),\n                                        ];\n                                    }\n                                }\n                                return [4 /*yield*/, originalImp.resyncSessionAndFetchMFAInfo(input)];\n                            case 8:\n                                val = _a.sent();\n                                if (!(val.status === \"OK\")) return [3 /*break*/, 10];\n                                // We are not storing the fetchResponse\n                                return [\n                                    4 /*yield*/,\n                                    stWindow.windowHandler.sessionStorage.setItem(\n                                        MFA_INFO_CACHE_KEY,\n                                        JSON.stringify({\n                                            t: Date.now(),\n                                            v: {\n                                                emails: val.emails,\n                                                phoneNumbers: val.phoneNumbers,\n                                                factors: val.factors,\n                                                status: val.status,\n                                            },\n                                        })\n                                    ),\n                                ];\n                            case 9:\n                                // We are not storing the fetchResponse\n                                _a.sent();\n                                _a.label = 10;\n                            case 10:\n                                return [2 /*return*/, val];\n                            case 11:\n                                // Release the lock\n                                lockProm = undefined;\n                                unlock();\n                                return [7 /*endfinally*/];\n                            case 12:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n        });\n    };\n};\n\nvar MultiFactorAuthClaimClass = /** @class */ (function () {\n    function MultiFactorAuthClaimClass(getRecipe, getRedirectURL, onFailureRedirection) {\n        var _this = this;\n        this.webJSClaim = new MultiFactorAuthWebJS.MultiFactorAuthClaimClass(function () {\n            return getRecipe().webJSRecipe;\n        });\n        this.refresh = this.webJSClaim.refresh;\n        this.getLastFetchedTime = this.webJSClaim.getLastFetchedTime;\n        this.getValueFromPayload = this.webJSClaim.getValueFromPayload;\n        this.id = this.webJSClaim.id;\n        var defaultOnFailureRedirection = function (_a) {\n            var reason = _a.reason,\n                userContext = _a.userContext;\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var recipe, nextFactorOptions, availableFactors, mfaInfo_1, availableFactors;\n                return utils.__generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            recipe = getRecipe();\n                            nextFactorOptions =\n                                reason.oneOf ||\n                                reason.allOfInAnyOrder ||\n                                (reason.factorId !== undefined ? [reason.factorId] : undefined);\n                            if (!(nextFactorOptions !== undefined)) return [3 /*break*/, 1];\n                            utils.logDebugMessage(\n                                \"Redirecting to MFA on next array from validation failure: \" +\n                                    nextFactorOptions.join(\", \")\n                            );\n                            availableFactors = recipe\n                                .getSecondaryFactors(userContext)\n                                .filter(function (v) {\n                                    return nextFactorOptions.factors.next.includes(v.id);\n                                })\n                                .map(function (v) {\n                                    return v.id;\n                                });\n                            // In this case we got here from a validator that defined the list of validators\n                            if (availableFactors.length === 1) {\n                                return [\n                                    2 /*return*/,\n                                    getRedirectURL(\n                                        { action: \"GO_TO_FACTOR\", factorId: availableFactors[0] },\n                                        userContext\n                                    ),\n                                ];\n                            } else {\n                                return [\n                                    2 /*return*/,\n                                    getRedirectURL(\n                                        { action: \"FACTOR_CHOOSER\", nextFactorOptions: nextFactorOptions },\n                                        userContext\n                                    ),\n                                ];\n                            }\n                        case 1:\n                            return [\n                                4 /*yield*/,\n                                recipe.webJSRecipe.resyncSessionAndFetchMFAInfo({ userContext: userContext }),\n                            ];\n                        case 2:\n                            mfaInfo_1 = _b.sent();\n                            availableFactors = recipe\n                                .getSecondaryFactors(userContext)\n                                .filter(function (v) {\n                                    return mfaInfo_1.factors.next.includes(v.id);\n                                })\n                                .map(function (v) {\n                                    return v.id;\n                                });\n                            utils.logDebugMessage(\n                                \"Redirecting to MFA on next array from backend: \" + availableFactors.join(\", \")\n                            );\n                            if (availableFactors.length === 1) {\n                                return [\n                                    2 /*return*/,\n                                    getRedirectURL(\n                                        { action: \"GO_TO_FACTOR\", factorId: availableFactors[0] },\n                                        userContext\n                                    ),\n                                ];\n                            } else {\n                                return [2 /*return*/, getRedirectURL({ action: \"FACTOR_CHOOSER\" }, userContext)];\n                            }\n                        case 3:\n                            // If this happens the user can't complete sign-in (the claim validator fails, but there is no valid next factor for us)\n                            // Returning undefined here will make SessionAuth render an access denied screen.\n                            return [2 /*return*/, undefined];\n                    }\n                });\n            });\n        };\n        this.validators = utils.__assign(utils.__assign({}, this.webJSClaim.validators), {\n            hasCompletedMFARequirementsForAuth: function (doRedirection, showAccessDeniedOnFailure) {\n                if (doRedirection === void 0) {\n                    doRedirection = true;\n                }\n                if (showAccessDeniedOnFailure === void 0) {\n                    showAccessDeniedOnFailure = true;\n                }\n                var orig = _this.webJSClaim.validators.hasCompletedMFARequirementsForAuth();\n                return utils.__assign(utils.__assign({}, orig), {\n                    showAccessDeniedOnFailure: showAccessDeniedOnFailure,\n                    onFailureRedirection:\n                        onFailureRedirection !== null && onFailureRedirection !== void 0\n                            ? onFailureRedirection\n                            : function (_a) {\n                                  var reason = _a.reason,\n                                      userContext = _a.userContext;\n                                  return doRedirection\n                                      ? defaultOnFailureRedirection({ reason: reason, userContext: userContext })\n                                      : undefined;\n                              },\n                });\n            },\n            hasCompletedFactors: function (requirements, doRedirection, showAccessDeniedOnFailure) {\n                if (doRedirection === void 0) {\n                    doRedirection = true;\n                }\n                if (showAccessDeniedOnFailure === void 0) {\n                    showAccessDeniedOnFailure = true;\n                }\n                var orig = _this.webJSClaim.validators.hasCompletedFactors(requirements);\n                return utils.__assign(utils.__assign({}, orig), {\n                    showAccessDeniedOnFailure: showAccessDeniedOnFailure,\n                    onFailureRedirection:\n                        onFailureRedirection !== null && onFailureRedirection !== void 0\n                            ? onFailureRedirection\n                            : function (_a) {\n                                  var reason = _a.reason,\n                                      userContext = _a.userContext;\n                                  return doRedirection\n                                      ? defaultOnFailureRedirection({ reason: reason, userContext: userContext })\n                                      : undefined;\n                              },\n                });\n            },\n        });\n    }\n    return MultiFactorAuthClaimClass;\n})();\n\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseMultiFactorAuthFeature(config) {\n    var _a;\n    if (config === undefined) {\n        config = {};\n    }\n    var disableDefaultUI = config.disableDefaultUI === true;\n    var override = utils.__assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return utils.__assign(utils.__assign({}, superTokens.normaliseRecipeModuleConfig(config)), {\n        disableDefaultUI: disableDefaultUI,\n        firstFactors: config === null || config === void 0 ? void 0 : config.firstFactors,\n        getSecondaryFactorInfo: function (orig) {\n            return orig;\n        },\n        factorChooserScreen: (_a = config.factorChooserScreen) !== null && _a !== void 0 ? _a : {},\n        override: override,\n    });\n}\nfunction getAvailableFactors(factors, nextArrayQueryParam, recipe, userContext) {\n    utils.logDebugMessage(\"getAvailableFactors: allowed to setup: \".concat(factors.allowedToSetup));\n    utils.logDebugMessage(\"getAvailableFactors: already setup: \".concat(factors.alreadySetup));\n    utils.logDebugMessage(\"getAvailableFactors: next from factorInfo: \".concat(factors.next));\n    utils.logDebugMessage(\"getAvailableFactors: nextArrayQueryParam: \".concat(nextArrayQueryParam));\n    utils.logDebugMessage(\n        \"getAvailableFactors: secondary factors: \".concat(\n            recipe.getSecondaryFactors(userContext).map(function (f) {\n                return f.id;\n            })\n        )\n    );\n    // There are 3 cases here:\n    // 1. The app provided an array of factors to show (nextArrayQueryParam) -> we show whatever is in the array\n    // 2. no app provided list and validator passed -> we show all factors available to set up or complete\n    // 3. no app provided list and validator failing -> we show whatever the BE tells us to (this is already filtered by allowedToSetup&alreadySetup on the BE)\n    var nextArr = nextArrayQueryParam !== undefined ? nextArrayQueryParam.split(\",\") : factors.next;\n    var availableFactors = recipe.getSecondaryFactors(userContext).filter(function (_a) {\n        var id = _a.id;\n        return nextArr.length === 0\n            ? factors.allowedToSetup.includes(id) || factors.alreadySetup.includes(id)\n            : nextArr.includes(id);\n    });\n    return availableFactors;\n}\n\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar MultiFactorAuth = /** @class */ (function (_super) {\n    utils.__extends(MultiFactorAuth, _super);\n    function MultiFactorAuth(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = MultiFactorAuthWebJS__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = MultiFactorAuth.RECIPE_ID;\n        _this.secondaryFactors = [];\n        _this.getDefaultRedirectionURL = function (context, userContext) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var nParam, redirectInfo;\n                return utils.__generator(this, function (_b) {\n                    if (context.action === \"FACTOR_CHOOSER\") {\n                        nParam =\n                            context.nextFactorOptions && context.nextFactorOptions.length > 0\n                                ? context.nextFactorOptions.join(\",\")\n                                : undefined;\n                        return [\n                            2 /*return*/,\n                            utils.getDefaultRedirectionURLForPath(this.config, DEFAULT_FACTOR_CHOOSER_PATH, context, {\n                                n: nParam,\n                                stepUp: context.stepUp ? \"true\" : undefined,\n                            }),\n                        ];\n                    } else if (context.action === \"GO_TO_FACTOR\") {\n                        redirectInfo = this.getSecondaryFactors(userContext).find(function (f) {\n                            return f.id === context.factorId;\n                        });\n                        if (redirectInfo !== undefined) {\n                            return [\n                                2 /*return*/,\n                                utils.getDefaultRedirectionURLForPath(this.config, redirectInfo.path, context, {\n                                    setup: context.forceSetup ? \"true\" : undefined,\n                                    stepUp: context.stepUp ? \"true\" : undefined,\n                                }),\n                            ];\n                        }\n                        throw new Error(\"Requested redirect to unknown factor id: \" + context.factorId);\n                    } else {\n                        return [2 /*return*/, \"/\"];\n                    }\n                });\n            });\n        };\n        postSuperTokensInitCallbacks.PostSuperTokensInitCallbacks.addPostInitCallback(function () {\n            var defaultFactorsValidator =\n                MultiFactorAuth.MultiFactorAuthClaim.validators.hasCompletedMFARequirementsForAuth();\n            sessionClaimValidatorStore.SessionClaimValidatorStore.addClaimValidatorFromOtherRecipe(\n                defaultFactorsValidator\n            );\n            types.Session.getInstanceOrThrow().addEventListener(function () {\n                // We clear the cache if the session updated, since that may mean that the MFA info has changed\n                var stWindow = windowHandler.WindowHandlerReference.getReferenceOrThrow();\n                stWindow.windowHandler.sessionStorage.removeItemSync(MFA_INFO_CACHE_KEY);\n            });\n        });\n        return _this;\n    }\n    MultiFactorAuth.init = function (config) {\n        var normalisedConfig = normaliseMultiFactorAuthFeature(config);\n        return {\n            recipeID: MultiFactorAuth.RECIPE_ID,\n            authReact: function (appInfo) {\n                MultiFactorAuth.instance = new MultiFactorAuth(\n                    utils.__assign(utils.__assign({}, normalisedConfig), {\n                        appInfo: appInfo,\n                        recipeId: MultiFactorAuth.RECIPE_ID,\n                    })\n                );\n                return MultiFactorAuth.instance;\n            },\n            webJS: MultiFactorAuthWebJS__default.default.init(\n                utils.__assign(utils.__assign({}, normalisedConfig), {\n                    override: {\n                        functions: function (originalImpl, builder) {\n                            var functions = getFunctionOverrides(normalisedConfig.onHandleEvent);\n                            builder.override(functions);\n                            builder.override(normalisedConfig.override.functions);\n                            return originalImpl;\n                        },\n                    },\n                })\n            ),\n        };\n    };\n    MultiFactorAuth.getInstance = function () {\n        return MultiFactorAuth.instance;\n    };\n    MultiFactorAuth.getInstanceOrThrow = function () {\n        if (MultiFactorAuth.instance === undefined) {\n            var error = \"No instance of MultiFactorAuth found. Make sure to call the MultiFactorAuth.init method.\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + utils.SSR_ERROR;\n            }\n            throw Error(error);\n        }\n        return MultiFactorAuth.instance;\n    };\n    MultiFactorAuth.prototype.addMFAFactors = function (secondaryFactors) {\n        this.secondaryFactors = utils.__spreadArray(\n            utils.__spreadArray(\n                [],\n                this.secondaryFactors.filter(function (factor) {\n                    return secondaryFactors.every(function (newFactor) {\n                        return factor.id !== newFactor.id;\n                    });\n                }),\n                true\n            ),\n            secondaryFactors,\n            true\n        );\n    };\n    MultiFactorAuth.prototype.isFirstFactorEnabledOnClient = function (factorId) {\n        return this.config.firstFactors === undefined || this.config.firstFactors.includes(factorId);\n    };\n    MultiFactorAuth.prototype.getSecondaryFactors = function (userContext) {\n        return this.config.getSecondaryFactorInfo(this.secondaryFactors, userContext);\n    };\n    MultiFactorAuth.prototype.redirectToFactor = function (_b) {\n        var factorId = _b.factorId,\n            forceSetup = _b.forceSetup,\n            stepUp = _b.stepUp,\n            redirectBack = _b.redirectBack,\n            navigate = _b.navigate,\n            userContext = _b.userContext;\n        return utils.__awaiter(this, void 0, void 0, function () {\n            var url, redirectUrl, redirectUrl;\n            return utils.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        return [\n                            4 /*yield*/,\n                            this.getRedirectUrl(\n                                {\n                                    action: \"GO_TO_FACTOR\",\n                                    forceSetup: forceSetup,\n                                    stepUp: stepUp,\n                                    factorId: factorId,\n                                    tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                },\n                                utils$1.getNormalisedUserContext(userContext)\n                            ),\n                        ];\n                    case 1:\n                        url = _c.sent();\n                        if (url === null) {\n                            return [2 /*return*/];\n                        }\n                        // If redirectBack was set to true we always set redirectToPath to that value\n                        // otherwise we try and get it from the query params, finally falling back to not setting it.\n                        // Example:\n                        // 1. If the app calls this on pathX and with redirectBack=false, we redirect to /auth/mfa/factor-id\n                        // 2. If the app calls this on pathX and with redirectBack=true, we redirect to /auth/mfa/factor-id?redirectToPath=pathX\n                        // 3. If:\n                        //      - the app redirects to the factor chooser with redirectBack=true from path=X, they end up on /auth/mfa?redirectToPath=pathX\n                        //      - the factor chooser screen then calls this with redirectBack=false, then they end up on /auth/mfa/factor-id?redirectToPath=pathX\n                        // 4. In the unlikely case that the app itself uses a `redirectToPath` query param internally\n                        //    and is on a custom path that has a redirectToPath set to pathX when calling this function,\n                        //    then we keep that in the query params if redirectBack is set to false.\n                        if (redirectBack) {\n                            redirectUrl = utils.getCurrentNormalisedUrlPathWithQueryParamsAndFragments();\n                            url = utils.appendQueryParamsToURL(url, { redirectToPath: redirectUrl });\n                        } else {\n                            redirectUrl = utils.getRedirectToPathFromURL();\n                            if (redirectUrl) {\n                                url = utils.appendQueryParamsToURL(url, { redirectToPath: redirectUrl });\n                            }\n                        }\n                        return [\n                            2 /*return*/,\n                            superTokens.SuperTokens.getInstanceOrThrow().redirectToUrl(url, navigate),\n                        ];\n                }\n            });\n        });\n    };\n    MultiFactorAuth.prototype.redirectToFactorChooser = function (_b) {\n        var _c = _b.redirectBack,\n            redirectBack = _c === void 0 ? false : _c,\n            _d = _b.nextFactorOptions,\n            nextFactorOptions = _d === void 0 ? [] : _d,\n            stepUp = _b.stepUp,\n            navigate = _b.navigate,\n            userContext = _b.userContext;\n        return utils.__awaiter(this, void 0, void 0, function () {\n            var url, redirectUrl, redirectUrl;\n            return utils.__generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        return [\n                            4 /*yield*/,\n                            this.getRedirectUrl(\n                                {\n                                    action: \"FACTOR_CHOOSER\",\n                                    nextFactorOptions: nextFactorOptions,\n                                    stepUp: stepUp,\n                                    tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                },\n                                utils$1.getNormalisedUserContext(userContext)\n                            ),\n                        ];\n                    case 1:\n                        url = _e.sent();\n                        if (url === null) {\n                            return [2 /*return*/];\n                        }\n                        if (redirectBack) {\n                            redirectUrl = utils.getCurrentNormalisedUrlPathWithQueryParamsAndFragments();\n                            url = utils.appendQueryParamsToURL(url, { redirectToPath: redirectUrl });\n                        } else {\n                            redirectUrl = utils.getRedirectToPathFromURL();\n                            if (redirectUrl) {\n                                url = utils.appendQueryParamsToURL(url, { redirectToPath: redirectUrl });\n                            }\n                        }\n                        return [\n                            2 /*return*/,\n                            superTokens.SuperTokens.getInstanceOrThrow().redirectToUrl(url, navigate),\n                        ];\n                }\n            });\n        });\n    };\n    /*\n     * Tests methods.\n     */\n    MultiFactorAuth.reset = function () {\n        if (!utils.isTest()) {\n            return;\n        }\n        MultiFactorAuth.instance = undefined;\n        return;\n    };\n    var _a;\n    _a = MultiFactorAuth;\n    MultiFactorAuth.RECIPE_ID = \"multifactorauth\";\n    MultiFactorAuth.MultiFactorAuthClaim = new MultiFactorAuthClaimClass(\n        function () {\n            return MultiFactorAuth.getInstanceOrThrow();\n        },\n        function (context, userContext) {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                return utils.__generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.getInstanceOrThrow().getRedirectUrl(\n                                    utils.__assign(utils.__assign({}, context), {\n                                        tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                    }),\n                                    userContext\n                                ),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _b.sent() || undefined];\n                    }\n                });\n            });\n        }\n    );\n    return MultiFactorAuth;\n})(index.RecipeModule);\n\nexports.DEFAULT_FACTOR_CHOOSER_PATH = DEFAULT_FACTOR_CHOOSER_PATH;\nexports.MultiFactorAuth = MultiFactorAuth;\nexports.getAvailableFactors = getAvailableFactors;\n", "\"use strict\";\n\nvar utils = require(\"./utils.js\");\nvar jsxRuntime = require(\"react/jsx-runtime\");\nvar React = require(\"react\");\nvar superTokens = require(\"./superTokens.js\");\nvar NormalisedURLPath = require(\"supertokens-web-js/utils/normalisedURLPath\");\nvar translationContext = require(\"./translationContext.js\");\nvar windowHandler = require(\"supertokens-web-js/utils/windowHandler\");\nvar reactDom = require(\"react-dom\");\nvar componentOverrideContext = require(\"./multitenancy-shared.js\");\nvar recipe$1 = require(\"./multifactorauth-shared2.js\");\nvar types = require(\"./multifactorauth-shared.js\");\nvar recipe = require(\"./oauth2provider-shared.js\");\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar utils$1 = require(\"./authRecipe-shared.js\");\nvar NormalisedURLPath$1 = require(\"supertokens-web-js/lib/build/normalisedURLPath\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\nvar NormalisedURLPath__default$1 = /*#__PURE__*/ _interopDefault(NormalisedURLPath$1);\n\nvar ComponentOverrideContext = React__default.default.createContext(\"IS_DEFAULT\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Imports.\n */\n/*\n * Component.\n */\nfunction SpinnerIcon() {\n    return jsxRuntime.jsx(\n        \"svg\",\n        utils.__assign(\n            { version: \"1.1\", viewBox: \"25 25 50 50\", \"data-supertokens\": \"spinnerIcon\" },\n            {\n                children: jsxRuntime.jsxs(\n                    \"circle\",\n                    utils.__assign(\n                        {\n                            cx: \"50\",\n                            cy: \"50\",\n                            r: \"20\",\n                            fill: \"none\",\n                            stroke: \"rgb(var(--palette-primary))\",\n                            strokeWidth: \"5\",\n                            strokeLinecap: \"round\",\n                            strokeDashoffset: \"0\",\n                            strokeDasharray: \"100, 200\",\n                        },\n                        {\n                            children: [\n                                jsxRuntime.jsx(\"animateTransform\", {\n                                    attributeName: \"transform\",\n                                    attributeType: \"XML\",\n                                    type: \"rotate\",\n                                    from: \"0 50 50\",\n                                    to: \"360 50 50\",\n                                    dur: \"4s\",\n                                    repeatCount: \"indefinite\",\n                                }),\n                                jsxRuntime.jsx(\"animate\", {\n                                    attributeName: \"stroke-dashoffset\",\n                                    values: \"0;-30;-124\",\n                                    dur: \"2s\",\n                                    repeatCount: \"indefinite\",\n                                }),\n                                jsxRuntime.jsx(\"animate\", {\n                                    attributeName: \"stroke-dasharray\",\n                                    values: \"0,200;110,200;110,200\",\n                                    dur: \"2s\",\n                                    repeatCount: \"indefinite\",\n                                }),\n                            ],\n                        }\n                    )\n                ),\n            }\n        )\n    );\n}\n\nvar useComponentOverride = function (overrideKey) {\n    var ctx = React.useContext(ComponentOverrideContext);\n    if (ctx === \"IS_DEFAULT\") {\n        throw new Error(\"Cannot use component override outside ComponentOverrideContext provider.\");\n    }\n    var OverrideComponent = ctx[overrideKey];\n    return OverrideComponent === undefined ? null : OverrideComponent;\n};\n\nvar withOverride = function (overrideKey, DefaultComponent) {\n    var finalKey = overrideKey + \"_Override\";\n    DefaultComponent.displayName = finalKey;\n    return function (props) {\n        var OverrideComponent = useComponentOverride(finalKey);\n        if (OverrideComponent !== null) {\n            return jsxRuntime.jsx(OverrideComponent, utils.__assign({ DefaultComponent: DefaultComponent }, props));\n        }\n        return jsxRuntime.jsx(DefaultComponent, utils.__assign({}, props));\n    };\n};\n\nvar styles$1 =\n    '[data-supertokens~=\"container\"] {\\n    --palette-background: 255, 255, 255;\\n    --palette-inputBackground: 250, 250, 250;\\n    --palette-inputBorder: 224, 224, 224;\\n    --palette-primary: 28, 34, 42;\\n    --palette-primaryBorder: 45, 54, 68;\\n    --palette-success: 65, 167, 0;\\n    --palette-successBackground: 217, 255, 191;\\n    --palette-error: 255, 23, 23;\\n    --palette-errorBackground: 255, 241, 235;\\n    --palette-textTitle: 0, 0, 0;\\n    --palette-textLabel: 0, 0, 0;\\n    --palette-textInput: 0, 0, 0;\\n    --palette-textPrimary: 128, 128, 128;\\n    --palette-textLink: 0, 122, 255;\\n    --palette-buttonText: 255, 255, 255;\\n    --palette-textGray: 54, 54, 54;\\n    --palette-superTokensBrandingBackground: 242, 245, 246;\\n    --palette-superTokensBrandingText: 173, 189, 196;\\n    --palette-buttonGreyedOut: 221, 221, 221;\\n    --palette-caution: 124, 96, 62;\\n    --palette-errorDark: 207, 54, 68;\\n\\n    --font-size-0: 12px;\\n    --font-size-1: 14px;\\n    --font-size-2: 16px;\\n    --font-size-3: 19px;\\n    --font-size-4: 24px;\\n    --font-size-5: 28px;\\n}\\n/*\\n * Default styles.\\n */\\n@keyframes slideTop {\\n    0% {\\n        transform: translateY(-5px);\\n    }\\n    100% {\\n        transform: translateY(0px);\\n    }\\n}\\n@keyframes swing-in-top-fwd {\\n    0% {\\n        transform: rotateX(-100deg);\\n        transform-origin: top;\\n        opacity: 0;\\n    }\\n    100% {\\n        transform: rotateX(0deg);\\n        transform-origin: top;\\n        opacity: 1;\\n    }\\n}\\n[data-supertokens~=\"container\"] {\\n    font-family: \"Arial\", sans-serif;\\n    margin: 12px auto;\\n    margin-top: 26px;\\n    margin-bottom: 26px;\\n    width: 420px;\\n    text-align: center;\\n    border-radius: 8px;\\n    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.16);\\n    background-color: rgb(var(--palette-background));\\n}\\n@media (max-width: 440px) {\\n    [data-supertokens~=\"container\"] {\\n        width: 95vw;\\n    }\\n}\\n[data-supertokens~=\"row\"] {\\n    margin: 0 auto;\\n    width: 76%;\\n    padding-top: 30px;\\n    padding-bottom: 10px;\\n}\\n[data-supertokens~=\"superTokensBranding\"] {\\n    display: block;\\n    margin: 10px auto 0;\\n    background: rgb(var(--palette-superTokensBrandingBackground));\\n    color: rgb(var(--palette-superTokensBrandingText));\\n    text-decoration: none;\\n    width: -webkit-fit-content;\\n    width: -moz-fit-content;\\n    width: fit-content;\\n    border-radius: 6px 6px 0 0;\\n    padding: 4px 9px;\\n    font-weight: 400;\\n    font-size: var(--font-size-0);\\n    letter-spacing: 0.4px;\\n}\\n[data-supertokens~=\"generalError\"] {\\n    background: rgb(var(--palette-errorBackground));\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n    margin-bottom: 10px;\\n    margin-top: 24px;\\n    padding-left: 18px;\\n    padding-right: 18px;\\n    letter-spacing: 0.2px;\\n    font-size: var(--font-size-1);\\n    border-radius: 8px;\\n    color: rgb(var(--palette-error));\\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\\n    word-wrap: break-word;\\n}\\n[data-supertokens~=\"headerTitle\"] {\\n    font-size: var(--font-size-4);\\n    line-height: 27.6px;\\n    letter-spacing: 0.58px;\\n    font-weight: 700;\\n    margin-bottom: 20px;\\n    color: rgb(var(--palette-textTitle));\\n}\\n[data-supertokens~=\"headerSubtitle\"] {\\n    font-weight: 400;\\n    color: rgb(var(--palette-textGray));\\n    margin-bottom: 21px;\\n}\\n[data-supertokens~=\"headerSubtitle\"][data-supertokens~=\"secondaryText\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-weight: 400;\\n}\\n[data-supertokens~=\"privacyPolicyAndTermsAndConditions\"] {\\n    max-width: 300px;\\n    margin-top: 10px;\\n}\\n[data-supertokens~=\"privacyPolicyAndTermsAndConditions\"] a {\\n    line-height: 21px;\\n}\\n/* TODO: split the link style into separate things*/\\n/* We add this before primary and secondary text, because if they are applied to the same element the other ones take priority */\\n[data-supertokens~=\"link\"] {\\n    padding-left: 3px;\\n    padding-right: 3px;\\n    color: rgb(var(--palette-textLink));\\n    font-size: var(--font-size-1);\\n    cursor: pointer;\\n    letter-spacing: 0.16px;\\n    line-height: 26px;\\n}\\n[data-supertokens~=\"primaryText\"] {\\n    font-size: var(--font-size-2);\\n    font-weight: 400;\\n    letter-spacing: 0.4px;\\n    line-height: 21px;\\n    color: rgb(var(--palette-textLabel));\\n}\\n[data-supertokens~=\"secondaryText\"] {\\n    font-size: var(--font-size-1);\\n    font-weight: 400;\\n    letter-spacing: 0.4px;\\n    color: rgb(var(--palette-textPrimary));\\n}\\n[data-supertokens~=\"secondaryText\"] strong {\\n    font-weight: 600;\\n}\\n[data-supertokens~=\"divider\"] {\\n    margin-top: 1.5em;\\n    margin-bottom: 1.5em;\\n    border-bottom: 0.3px solid #dddddd;\\n    align-items: center;\\n    padding-bottom: 5px;\\n    flex: 3 3;\\n}\\n[data-supertokens~=\"headerTinyTitle\"] {\\n    margin-top: 24px;\\n    font-size: var(--font-size-5);\\n    letter-spacing: 1.1px;\\n    font-weight: 700;\\n    line-height: 28px;\\n}\\n[data-supertokens~=\"secondaryLinkWithArrow\"] {\\n    margin-top: 10px;\\n    margin-bottom: 30px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"secondaryLinkWithArrow\"]:hover {\\n    position: relative;\\n    left: 2px;\\n    word-spacing: 4px;\\n}\\n[data-supertokens~=\"generalSuccess\"] {\\n    color: rgb(var(--palette-success));\\n    font-size: var(--font-size-1);\\n    background: rgb(var(--palette-successBackground));\\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\\n    padding: 9px 15px 9px 15px;\\n    border-radius: 6px;\\n    display: inline-block;\\n}\\n[data-supertokens~=\"spinner\"] {\\n    width: 80px;\\n    height: auto;\\n    padding-top: 20px;\\n    padding-bottom: 40px;\\n    margin: 0 auto;\\n}\\n[data-supertokens~=\"error\"] {\\n    color: rgb(var(--palette-error));\\n}\\n[data-supertokens~=\"linkButton\"] {\\n    font-family: \"Arial\", sans-serif;\\n    background-color: transparent;\\n    border: 0;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-weight: 400;\\n    margin-top: 10px;\\n    margin-bottom: 40px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"] svg {\\n    margin-right: 0.3em;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"]:hover svg {\\n    position: relative;\\n    left: -4px;\\n}\\n[data-supertokens~=\"button\"] {\\n    font-family: \"Arial\", sans-serif;\\n    background-color: rgb(var(--palette-primary));\\n    color: rgb(var(--palette-buttonText));\\n    width: 100%;\\n    height: 34px;\\n    font-weight: 600;\\n    border-width: 1px;\\n    border-style: solid;\\n    border-radius: 6px;\\n    border-color: rgb(var(--palette-primaryBorder));\\n    background-position: center;\\n    transition: all 0.4s;\\n    background-size: 12000%;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"buttonGreyedOut\"] {\\n    background-color: rgb(var(--palette-buttonGreyedOut));\\n    border-color: rgb(var(--palette-buttonGreyedOut));\\n}\\n[data-supertokens~=\"buttonWithIcon\"] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n}\\n[data-supertokens~=\"button\"]:disabled {\\n    border: none;\\n    cursor: no-drop;\\n}\\n[data-supertokens~=\"button\"]:active {\\n    outline: none;\\n    transition: all 0s;\\n    background-size: 100%;\\n    filter: brightness(0.85);\\n}\\n[data-supertokens~=\"button\"]:focus {\\n    outline: none;\\n}\\n[data-supertokens~=\"backButtonCommon\"] {\\n    width: 16px;\\n    height: 13px;\\n}\\n[data-supertokens~=\"backButton\"] {\\n    cursor: pointer;\\n    border: none;\\n    background-color: transparent;\\n    padding: 0px;\\n}\\n[data-supertokens~=\"backButtonPlaceholder\"] {\\n    display: block;\\n}\\n[data-supertokens~=\"delayedRender\"] {\\n    animation-duration: 0.1s;\\n    animation-name: animate-fade;\\n    animation-delay: 0.2s;\\n    animation-fill-mode: backwards;\\n}\\n@keyframes animate-fade {\\n    0% {\\n        opacity: 0;\\n    }\\n    100% {\\n        opacity: 1;\\n    }\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] {\\n    display: flex;\\n    flex-direction: column;\\n    margin-top: 10px;\\n    gap: 24px;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] > div {\\n    cursor: pointer;\\n    margin: 0;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] [data-supertokens~=\"secondaryText\"] {\\n    font-weight: 400;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] [data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    font-weight: 400;\\n    position: relative;\\n    left: -6px; /* half the width of the left arrow */\\n}\\n@media (max-width: 360px) {\\n    [data-supertokens~=\"footerLinkGroupVert\"] {\\n        flex-direction: column;\\n    }\\n    [data-supertokens~=\"footerLinkGroupVert\"] > div {\\n        margin: 0 auto;\\n    }\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] div:only-child {\\n    margin-left: auto;\\n    margin-right: auto;\\n    margin-top: 14px;\\n}\\n[data-supertokens~=\"withBackButton\"] {\\n    position: relative;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n[data-supertokens~=\"dividerWithOr\"] {\\n    padding-top: 5px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    color: rgb(var(--palette-textPrimary));\\n}\\n[data-supertokens~=\"dividerText\"] {\\n    flex: 1 1;\\n    font-weight: 400;\\n    font-size: var(--font-size-1);\\n}\\n[data-supertokens~=\"formLabelWithLinkWrapper\"] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"] {\\n    width: auto;\\n    margin-top: 0;\\n    line-height: 24px;\\n    font-size: var(--font-size-0);\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"]:hover {\\n    text-decoration: underline;\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"]:disabled {\\n    color: rgb(var(--palette-textPrimary));\\n    cursor: default;\\n    text-decoration: none;\\n}\\n[data-supertokens~=\"authComponentList\"] {\\n    padding-bottom: 20px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClient\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-size: var(--font-size-1);\\n    font-weight: 400;\\n    margin: 10px 0 25px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClientUrl\"] {\\n    text-decoration: none;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClientLogo\"] {\\n    width: 44px;\\n    height: 44px;\\n    margin-bottom: 10px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClient\"] [data-supertokens~=\"authPageTitleOAuthClientName\"] {\\n    color: rgb(var(--palette-textTitle));\\n}\\n[data-supertokens~=\"buttonWithArrow\"] {\\n    border-radius: 6px;\\n    border: 1px solid #d0d5dd;\\n    width: 100%;\\n    color: rgb(var(--palette-textGray));\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    gap: 5px;\\n    margin: 24px 0;\\n    min-height: 48px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover {\\n    background-color: rgb(var(--palette-inputBackground));\\n}\\n[data-supertokens~=\"buttonWithArrow\"] [data-supertokens~=\"secondaryText\"] {\\n    font-weight: 700;\\n    font-size: var(--font-size-2);\\n    color: rgb(var(--palette-textGray));\\n    margin: 0;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover [data-supertokens~=\"secondaryLinkWithRightArrow\"] ~ svg {\\n    position: relative;\\n    left: 2px;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover [data-supertokens~=\"secondaryLinkWithLeftArrow\"] svg {\\n    position: relative;\\n    left: -2px;\\n}\\n[data-supertokens~=\"buttonWithArrow\"] [data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    display: flex;\\n    align-items: center;\\n}\\n';\n\nvar ThemeBase$1 = function (_a) {\n    var children = _a.children,\n        userStyles = _a.userStyles;\n    return jsxRuntime.jsxs(React.Fragment, {\n        children: [children, jsxRuntime.jsxs(\"style\", { children: [styles$1, userStyles.join(\"\\n\")] })],\n    });\n};\n\nvar MultitenancyDynamicLoginMethodsSpinnerTheme = function () {\n    return jsxRuntime.jsx(\n        \"div\",\n        utils.__assign(\n            { \"data-supertokens\": \"container delayedRender\" },\n            {\n                children: jsxRuntime.jsx(\n                    \"div\",\n                    utils.__assign(\n                        { \"data-supertokens\": \"row\" },\n                        {\n                            children: jsxRuntime.jsx(\n                                \"div\",\n                                utils.__assign(\n                                    { \"data-supertokens\": \"spinner delayedRender\" },\n                                    { children: jsxRuntime.jsx(SpinnerIcon, {}) }\n                                )\n                            ),\n                        }\n                    )\n                ),\n            }\n        )\n    );\n};\nvar DynamicLoginMethodsSpinnerThemeWithOverride = withOverride(\n    \"MultitenancyDynamicLoginMethodsSpinnerTheme\",\n    MultitenancyDynamicLoginMethodsSpinnerTheme\n);\nvar DynamicLoginMethodsSpinnerTheme = function (props) {\n    var rootStyle = superTokens.SuperTokens.getInstanceOrThrow().rootStyle;\n    return jsxRuntime.jsx(\n        ThemeBase$1,\n        utils.__assign(\n            { userStyles: [rootStyle, props.config.recipeRootStyle] },\n            { children: jsxRuntime.jsx(DynamicLoginMethodsSpinnerThemeWithOverride, {}) }\n        )\n    );\n};\n\n// TODO: move this to the root components dir and rename (incl. the override)\n// This is a special \"feature\" component:\n//  - it's used inside FeatureWrapper & RoutingComponent (meaning it can't use FeatureWrapper)\n//  - it's not used in any specific route (multitenancy doesn't have a pre-built UI)\nvar DynamicLoginMethodsSpinner = function () {\n    var recipe = superTokens.Multitenancy.getInstanceOrThrow();\n    var recipeComponentOverrides = componentOverrideContext.useContext();\n    return jsxRuntime.jsx(\n        ComponentOverrideContext.Provider,\n        utils.__assign(\n            { value: recipeComponentOverrides },\n            {\n                children: jsxRuntime.jsx(\n                    WithOrWithoutShadowDom,\n                    utils.__assign(\n                        { useShadowDom: superTokens.SuperTokens.getInstanceOrThrow().useShadowDom },\n                        { children: jsxRuntime.jsx(DynamicLoginMethodsSpinnerTheme, { config: recipe.config }) }\n                    )\n                ),\n            }\n        )\n    );\n};\n\nvar dynamicLoginMethodsContext = React__default.default.createContext(undefined);\nvar useDynamicLoginMethods = function () {\n    var value = React__default.default.useContext(dynamicLoginMethodsContext);\n    if (value === undefined) {\n        throw new Error(\"useDynamicLoginMethods used outside of a valid provider (FeatureWrapper)\");\n    }\n    return value;\n};\nvar DynamicLoginMethodsProvider = function (_a) {\n    var value = _a.value,\n        children = _a.children;\n    var contextValue = value === undefined ? { loaded: false } : { loaded: true, loginMethods: value };\n    return jsxRuntime.jsx(\n        dynamicLoginMethodsContext.Provider,\n        utils.__assign({ value: contextValue }, { children: children })\n    );\n};\n\nvar UserContextContext = React__default.default.createContext(undefined);\nvar useUserContext = function () {\n    return React__default.default.useContext(UserContextContext);\n};\nvar UserContextProvider = function (_a) {\n    var children = _a.children,\n        userContext = _a.userContext;\n    var currentUserContext = React.useState(utils.getNormalisedUserContext(userContext))[0];\n    return jsxRuntime.jsx(\n        UserContextContext.Provider,\n        utils.__assign({ value: currentUserContext }, { children: children })\n    );\n};\n\nfunction FeatureWrapper(_a) {\n    var children = _a.children,\n        useShadowDom = _a.useShadowDom,\n        defaultStore = _a.defaultStore;\n    var userContext = useUserContext();\n    var rethrowInRender = utils.useRethrowInRender();\n    var _b = React.useState(undefined),\n        loadedDynamicLoginMethods = _b[0],\n        setLoadedDynamicLoginMethods = _b[1];\n    var st = superTokens.SuperTokens.getInstanceOrThrow();\n    React.useEffect(\n        function () {\n            if (loadedDynamicLoginMethods) {\n                return;\n            }\n            superTokens.Multitenancy.getInstanceOrThrow()\n                .getCurrentDynamicLoginMethods({ userContext: userContext })\n                .then(\n                    function (loginMethods) {\n                        return setLoadedDynamicLoginMethods(loginMethods);\n                    },\n                    function (err) {\n                        return rethrowInRender(err);\n                    }\n                );\n        },\n        [loadedDynamicLoginMethods, setLoadedDynamicLoginMethods]\n    );\n    if (superTokens.SuperTokens.usesDynamicLoginMethods && !loadedDynamicLoginMethods) {\n        return jsxRuntime.jsx(DynamicLoginMethodsSpinner, {});\n    }\n    return jsxRuntime.jsx(\n        DynamicLoginMethodsProvider,\n        utils.__assign(\n            { value: loadedDynamicLoginMethods },\n            {\n                children: jsxRuntime.jsx(\n                    translationContext.TranslationContextProvider,\n                    utils.__assign(\n                        {\n                            defaultLanguage: st.languageTranslations.defaultLanguage,\n                            defaultStore: utils.mergeObjects(\n                                defaultStore,\n                                st.languageTranslations.userTranslationStore\n                            ),\n                            translationControlEventSource: st.languageTranslations.translationEventSource,\n                            userTranslationFunc: st.languageTranslations.userTranslationFunc,\n                        },\n                        {\n                            children: jsxRuntime.jsx(\n                                WithOrWithoutShadowDom,\n                                utils.__assign({ useShadowDom: useShadowDom }, { children: children })\n                            ),\n                        }\n                    )\n                ),\n            }\n        )\n    );\n}\nfunction WithShadowDom(_a) {\n    var children = _a.children;\n    var rootDiv = React.useRef(null);\n    var _b = React.useState(),\n        shadowRoot = _b[0],\n        setShadowRoot = _b[1];\n    React.useEffect(\n        function () {\n            if (rootDiv.current) {\n                // defaults from react-shadow\n                setShadowRoot(function (os) {\n                    return (\n                        os ||\n                        rootDiv.current.shadowRoot ||\n                        rootDiv.current.attachShadow({ mode: \"open\", delegatesFocus: false })\n                    );\n                });\n            }\n        },\n        [rootDiv]\n    );\n    // Otherwise, use shadow dom.\n    return jsxRuntime.jsx(\n        \"div\",\n        utils.__assign(\n            { id: utils.ST_ROOT_ID, ref: rootDiv },\n            { children: shadowRoot && reactDom.createPortal(children, shadowRoot) }\n        )\n    );\n}\nfunction WithOrWithoutShadowDom(_a) {\n    var children = _a.children,\n        useShadowDom = _a.useShadowDom;\n    // If explicitely specified to not use shadow dom.\n    if (useShadowDom === false) {\n        return jsxRuntime.jsxs(\n            \"div\",\n            utils.__assign({ id: utils.ST_ROOT_ID }, { children: [children, jsxRuntime.jsx(DisableAutoFillInput, {})] })\n        );\n    }\n    return jsxRuntime.jsxs(WithShadowDom, { children: [children, jsxRuntime.jsx(DisableAutoFillInput, {})] });\n}\nfunction DisableAutoFillInput() {\n    /* eslint-disable react/jsx-no-literals */\n    return jsxRuntime.jsx(\n        \"style\",\n        utils.__assign(\n            { type: \"text/css\" },\n            {\n                children:\n                    \"input.supertokens-input:-webkit-autofill,input.supertokens-input:-webkit-autofill:focus,input.supertokens-input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{transition:background-color 5000s ease-in-out 0s}\",\n            }\n        )\n    );\n    /* eslint-enable react/jsx-no-literals */\n}\n\nvar SessionContext = React__default.default.createContext({\n    loading: true,\n    isDefault: true,\n});\n\nvar useSessionContext = function () {\n    var ctx = React__default.default.useContext(SessionContext);\n    if (ctx.isDefault === true) {\n        throw new Error(\"Cannot use useSessionContext outside auth wrapper components.\");\n    }\n    return ctx;\n};\n\nvar _a = genericComponentOverrideContext.createGenericComponentsOverrideContext({}, \"authRecipe\"),\n    useContext = _a[0],\n    Provider = _a[1];\n\nfunction SuperTokensBranding() {\n    var t = translationContext.useTranslation();\n    return jsxRuntime.jsxs(\n        \"a\",\n        utils.__assign(\n            {\n                \"data-supertokens\": \"superTokensBranding\",\n                href: \"https://supertokens.com?utm_campaign=poweredby\",\n                target: \"_blank\",\n            },\n            {\n                children: [\n                    t(\"BRANDING_POWERED_BY_START\"),\n                    jsxRuntime.jsx(\"strong\", { children: \"SuperTokens\" }),\n                    t(\"BRANDING_POWERED_BY_END\"),\n                ],\n            }\n        )\n    );\n}\n\nfunction UserContextWrapper(props) {\n    /**\n     * If we receive a userContext as a props we should assume that the user\n     * is either trying to use a theme component as standalone or that they\n     * want to override an existing value for userContext.\n     *\n     * In this case we should always return a Provider with the value of userContext\n     */\n    if (props.userContext !== undefined) {\n        return jsxRuntime.jsx(\n            UserContextProvider,\n            utils.__assign({ userContext: props.userContext }, { children: props.children })\n        );\n    }\n    return jsxRuntime.jsx(UserContextContext.Consumer, {\n        children: function (value) {\n            /**\n             * value is undefined only if there is no Provider in the tree. In this case it is safe to\n             * assume that the theme component is not being rendered by the SDK and that the user is not\n             * using this as a child of one of the pre-built feature components.\n             *\n             * In this case we return a provider so that the userContext hook can be used by the children\n             * of this theme component\n             */\n            if (value === undefined) {\n                return jsxRuntime.jsx(UserContextProvider, { children: props.children });\n            }\n            /**\n             * If value is not undefined then a provider exists in the tree. This means that this component\n             * is either being rendered by the SDK or the user has added it as a child of the pre-built\n             * feature components. In either case the userContext hook will be available so simply\n             * return the theme component.\n             */\n            return props.children;\n        },\n    });\n}\n\nfunction GeneralError(_a) {\n    var error = _a.error;\n    var t = translationContext.useTranslation();\n    return jsxRuntime.jsx(\"div\", utils.__assign({ \"data-supertokens\": \"generalError\" }, { children: t(error) }));\n}\n\nvar styles =\n    '[data-supertokens~=\"container\"] {\\n    --palette-background: 255, 255, 255;\\n    --palette-inputBackground: 250, 250, 250;\\n    --palette-inputBorder: 224, 224, 224;\\n    --palette-primary: 28, 34, 42;\\n    --palette-primaryBorder: 45, 54, 68;\\n    --palette-success: 65, 167, 0;\\n    --palette-successBackground: 217, 255, 191;\\n    --palette-error: 255, 23, 23;\\n    --palette-errorBackground: 255, 241, 235;\\n    --palette-textTitle: 0, 0, 0;\\n    --palette-textLabel: 0, 0, 0;\\n    --palette-textInput: 0, 0, 0;\\n    --palette-textPrimary: 128, 128, 128;\\n    --palette-textLink: 0, 122, 255;\\n    --palette-buttonText: 255, 255, 255;\\n    --palette-textGray: 54, 54, 54;\\n    --palette-superTokensBrandingBackground: 242, 245, 246;\\n    --palette-superTokensBrandingText: 173, 189, 196;\\n    --palette-buttonGreyedOut: 221, 221, 221;\\n    --palette-caution: 124, 96, 62;\\n    --palette-errorDark: 207, 54, 68;\\n\\n    --font-size-0: 12px;\\n    --font-size-1: 14px;\\n    --font-size-2: 16px;\\n    --font-size-3: 19px;\\n    --font-size-4: 24px;\\n    --font-size-5: 28px;\\n}\\n/*\\n * Default styles.\\n */\\n@keyframes slideTop {\\n    0% {\\n        transform: translateY(-5px);\\n    }\\n    100% {\\n        transform: translateY(0px);\\n    }\\n}\\n@keyframes swing-in-top-fwd {\\n    0% {\\n        transform: rotateX(-100deg);\\n        transform-origin: top;\\n        opacity: 0;\\n    }\\n    100% {\\n        transform: rotateX(0deg);\\n        transform-origin: top;\\n        opacity: 1;\\n    }\\n}\\n[data-supertokens~=\"container\"] {\\n    font-family: \"Arial\", sans-serif;\\n    margin: 12px auto;\\n    margin-top: 26px;\\n    margin-bottom: 26px;\\n    width: 420px;\\n    text-align: center;\\n    border-radius: 8px;\\n    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.16);\\n    background-color: rgb(var(--palette-background));\\n}\\n@media (max-width: 440px) {\\n    [data-supertokens~=\"container\"] {\\n        width: 95vw;\\n    }\\n}\\n[data-supertokens~=\"row\"] {\\n    margin: 0 auto;\\n    width: 76%;\\n    padding-top: 30px;\\n    padding-bottom: 10px;\\n}\\n[data-supertokens~=\"superTokensBranding\"] {\\n    display: block;\\n    margin: 10px auto 0;\\n    background: rgb(var(--palette-superTokensBrandingBackground));\\n    color: rgb(var(--palette-superTokensBrandingText));\\n    text-decoration: none;\\n    width: -webkit-fit-content;\\n    width: -moz-fit-content;\\n    width: fit-content;\\n    border-radius: 6px 6px 0 0;\\n    padding: 4px 9px;\\n    font-weight: 400;\\n    font-size: var(--font-size-0);\\n    letter-spacing: 0.4px;\\n}\\n[data-supertokens~=\"generalError\"] {\\n    background: rgb(var(--palette-errorBackground));\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n    margin-bottom: 10px;\\n    margin-top: 24px;\\n    padding-left: 18px;\\n    padding-right: 18px;\\n    letter-spacing: 0.2px;\\n    font-size: var(--font-size-1);\\n    border-radius: 8px;\\n    color: rgb(var(--palette-error));\\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\\n    word-wrap: break-word;\\n}\\n[data-supertokens~=\"headerTitle\"] {\\n    font-size: var(--font-size-4);\\n    line-height: 27.6px;\\n    letter-spacing: 0.58px;\\n    font-weight: 700;\\n    margin-bottom: 20px;\\n    color: rgb(var(--palette-textTitle));\\n}\\n[data-supertokens~=\"headerSubtitle\"] {\\n    font-weight: 400;\\n    color: rgb(var(--palette-textGray));\\n    margin-bottom: 21px;\\n}\\n[data-supertokens~=\"headerSubtitle\"][data-supertokens~=\"secondaryText\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-weight: 400;\\n}\\n[data-supertokens~=\"privacyPolicyAndTermsAndConditions\"] {\\n    max-width: 300px;\\n    margin-top: 10px;\\n}\\n[data-supertokens~=\"privacyPolicyAndTermsAndConditions\"] a {\\n    line-height: 21px;\\n}\\n/* TODO: split the link style into separate things*/\\n/* We add this before primary and secondary text, because if they are applied to the same element the other ones take priority */\\n[data-supertokens~=\"link\"] {\\n    padding-left: 3px;\\n    padding-right: 3px;\\n    color: rgb(var(--palette-textLink));\\n    font-size: var(--font-size-1);\\n    cursor: pointer;\\n    letter-spacing: 0.16px;\\n    line-height: 26px;\\n}\\n[data-supertokens~=\"primaryText\"] {\\n    font-size: var(--font-size-2);\\n    font-weight: 400;\\n    letter-spacing: 0.4px;\\n    line-height: 21px;\\n    color: rgb(var(--palette-textLabel));\\n}\\n[data-supertokens~=\"secondaryText\"] {\\n    font-size: var(--font-size-1);\\n    font-weight: 400;\\n    letter-spacing: 0.4px;\\n    color: rgb(var(--palette-textPrimary));\\n}\\n[data-supertokens~=\"secondaryText\"] strong {\\n    font-weight: 600;\\n}\\n[data-supertokens~=\"divider\"] {\\n    margin-top: 1.5em;\\n    margin-bottom: 1.5em;\\n    border-bottom: 0.3px solid #dddddd;\\n    align-items: center;\\n    padding-bottom: 5px;\\n    flex: 3 3;\\n}\\n[data-supertokens~=\"headerTinyTitle\"] {\\n    margin-top: 24px;\\n    font-size: var(--font-size-5);\\n    letter-spacing: 1.1px;\\n    font-weight: 700;\\n    line-height: 28px;\\n}\\n[data-supertokens~=\"secondaryLinkWithArrow\"] {\\n    margin-top: 10px;\\n    margin-bottom: 30px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"secondaryLinkWithArrow\"]:hover {\\n    position: relative;\\n    left: 2px;\\n    word-spacing: 4px;\\n}\\n[data-supertokens~=\"generalSuccess\"] {\\n    color: rgb(var(--palette-success));\\n    font-size: var(--font-size-1);\\n    background: rgb(var(--palette-successBackground));\\n    animation: swing-in-top-fwd 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;\\n    padding: 9px 15px 9px 15px;\\n    border-radius: 6px;\\n    display: inline-block;\\n}\\n[data-supertokens~=\"spinner\"] {\\n    width: 80px;\\n    height: auto;\\n    padding-top: 20px;\\n    padding-bottom: 40px;\\n    margin: 0 auto;\\n}\\n[data-supertokens~=\"error\"] {\\n    color: rgb(var(--palette-error));\\n}\\n[data-supertokens~=\"linkButton\"] {\\n    font-family: \"Arial\", sans-serif;\\n    background-color: transparent;\\n    border: 0;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-weight: 400;\\n    margin-top: 10px;\\n    margin-bottom: 40px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"] svg {\\n    margin-right: 0.3em;\\n}\\n[data-supertokens~=\"secondaryLinkWithLeftArrow\"]:hover svg {\\n    position: relative;\\n    left: -4px;\\n}\\n[data-supertokens~=\"button\"] {\\n    font-family: \"Arial\", sans-serif;\\n    background-color: rgb(var(--palette-primary));\\n    color: rgb(var(--palette-buttonText));\\n    width: 100%;\\n    height: 34px;\\n    font-weight: 600;\\n    border-width: 1px;\\n    border-style: solid;\\n    border-radius: 6px;\\n    border-color: rgb(var(--palette-primaryBorder));\\n    background-position: center;\\n    transition: all 0.4s;\\n    background-size: 12000%;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"buttonGreyedOut\"] {\\n    background-color: rgb(var(--palette-buttonGreyedOut));\\n    border-color: rgb(var(--palette-buttonGreyedOut));\\n}\\n[data-supertokens~=\"buttonWithIcon\"] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    gap: 8px;\\n}\\n[data-supertokens~=\"button\"]:disabled {\\n    border: none;\\n    cursor: no-drop;\\n}\\n[data-supertokens~=\"button\"]:active {\\n    outline: none;\\n    transition: all 0s;\\n    background-size: 100%;\\n    filter: brightness(0.85);\\n}\\n[data-supertokens~=\"button\"]:focus {\\n    outline: none;\\n}\\n[data-supertokens~=\"backButtonCommon\"] {\\n    width: 16px;\\n    height: 13px;\\n}\\n[data-supertokens~=\"backButton\"] {\\n    cursor: pointer;\\n    border: none;\\n    background-color: transparent;\\n    padding: 0px;\\n}\\n[data-supertokens~=\"backButtonPlaceholder\"] {\\n    display: block;\\n}\\n[data-supertokens~=\"delayedRender\"] {\\n    animation-duration: 0.1s;\\n    animation-name: animate-fade;\\n    animation-delay: 0.2s;\\n    animation-fill-mode: backwards;\\n}\\n@keyframes animate-fade {\\n    0% {\\n        opacity: 0;\\n    }\\n    100% {\\n        opacity: 1;\\n    }\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] {\\n    display: flex;\\n    flex-direction: column;\\n    margin-top: 10px;\\n    gap: 24px;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] > div {\\n    cursor: pointer;\\n    margin: 0;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] [data-supertokens~=\"secondaryText\"] {\\n    font-weight: 400;\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] [data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    font-weight: 400;\\n    position: relative;\\n    left: -6px; /* half the width of the left arrow */\\n}\\n@media (max-width: 360px) {\\n    [data-supertokens~=\"footerLinkGroupVert\"] {\\n        flex-direction: column;\\n    }\\n    [data-supertokens~=\"footerLinkGroupVert\"] > div {\\n        margin: 0 auto;\\n    }\\n}\\n[data-supertokens~=\"footerLinkGroupVert\"] div:only-child {\\n    margin-left: auto;\\n    margin-right: auto;\\n    margin-top: 14px;\\n}\\n[data-supertokens~=\"withBackButton\"] {\\n    position: relative;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n[data-supertokens~=\"dividerWithOr\"] {\\n    padding-top: 5px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    color: rgb(var(--palette-textPrimary));\\n}\\n[data-supertokens~=\"dividerText\"] {\\n    flex: 1 1;\\n    font-weight: 400;\\n    font-size: var(--font-size-1);\\n}\\n[data-supertokens~=\"formLabelWithLinkWrapper\"] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"] {\\n    width: auto;\\n    margin-top: 0;\\n    line-height: 24px;\\n    font-size: var(--font-size-0);\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"]:hover {\\n    text-decoration: underline;\\n}\\n[data-supertokens~=\"formLabelLinkBtn\"]:disabled {\\n    color: rgb(var(--palette-textPrimary));\\n    cursor: default;\\n    text-decoration: none;\\n}\\n[data-supertokens~=\"authComponentList\"] {\\n    padding-bottom: 20px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClient\"] {\\n    color: rgb(var(--palette-textGray));\\n    font-size: var(--font-size-1);\\n    font-weight: 400;\\n    margin: 10px 0 25px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClientUrl\"] {\\n    text-decoration: none;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClientLogo\"] {\\n    width: 44px;\\n    height: 44px;\\n    margin-bottom: 10px;\\n}\\n[data-supertokens~=\"authPageTitleOAuthClient\"] [data-supertokens~=\"authPageTitleOAuthClientName\"] {\\n    color: rgb(var(--palette-textTitle));\\n}\\n[data-supertokens~=\"buttonWithArrow\"] {\\n    border-radius: 6px;\\n    border: 1px solid #d0d5dd;\\n    width: 100%;\\n    color: rgb(var(--palette-textGray));\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    gap: 5px;\\n    margin: 24px 0;\\n    min-height: 48px;\\n    cursor: pointer;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover {\\n    background-color: rgb(var(--palette-inputBackground));\\n}\\n[data-supertokens~=\"buttonWithArrow\"] [data-supertokens~=\"secondaryText\"] {\\n    font-weight: 700;\\n    font-size: var(--font-size-2);\\n    color: rgb(var(--palette-textGray));\\n    margin: 0;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover [data-supertokens~=\"secondaryLinkWithRightArrow\"] ~ svg {\\n    position: relative;\\n    left: 2px;\\n}\\n[data-supertokens~=\"buttonWithArrow\"]:hover [data-supertokens~=\"secondaryLinkWithLeftArrow\"] svg {\\n    position: relative;\\n    left: -2px;\\n}\\n[data-supertokens~=\"buttonWithArrow\"] [data-supertokens~=\"secondaryLinkWithLeftArrow\"] {\\n    display: flex;\\n    align-items: center;\\n}\\n';\n\nvar ThemeBase = function (_a) {\n    var children = _a.children,\n        userStyles = _a.userStyles;\n    return jsxRuntime.jsxs(React.Fragment, {\n        children: [children, jsxRuntime.jsxs(\"style\", { children: [styles, userStyles.join(\"\\n\")] })],\n    });\n};\n\nvar AuthPageComponentList = withOverride(\"AuthPageComponentList\", function AuthPageComponentList(props) {\n    var t = translationContext.useTranslation();\n    var list = [props.authComponents[0]];\n    var _loop_1 = function (i) {\n        list.push(function () {\n            return jsxRuntime.jsxs(\n                \"div\",\n                utils.__assign(\n                    { \"data-supertokens\": \"dividerWithOr\" },\n                    {\n                        children: [\n                            jsxRuntime.jsx(\"div\", { \"data-supertokens\": \"divider\" }),\n                            jsxRuntime.jsx(\n                                \"div\",\n                                utils.__assign({ \"data-supertokens\": \"dividerText\" }, { children: t(\"DIVIDER_OR\") })\n                            ),\n                            jsxRuntime.jsx(\"div\", { \"data-supertokens\": \"divider\" }),\n                        ],\n                    }\n                ),\n                \"divider-\".concat(i)\n            );\n        });\n        list.push(props.authComponents[i]);\n    };\n    for (var i = 1; i < props.authComponents.length; ++i) {\n        _loop_1(i);\n    }\n    return jsxRuntime.jsx(\n        \"div\",\n        utils.__assign(\n            { \"data-supertokens\": \"authComponentList\" },\n            {\n                children: list.map(function (i) {\n                    return i(utils.__assign({}, props));\n                }),\n            }\n        )\n    );\n});\n\nvar AuthPageFooter = withOverride(\"AuthPageFooter\", function AuthPageFooter(_a) {\n    var hasSeparateSignUpView = _a.hasSeparateSignUpView,\n        isSignUp = _a.isSignUp,\n        termsOfServiceLink = _a.termsOfServiceLink,\n        privacyPolicyLink = _a.privacyPolicyLink;\n    var t = translationContext.useTranslation();\n    if (termsOfServiceLink === undefined && privacyPolicyLink === undefined) {\n        return null;\n    }\n    if (hasSeparateSignUpView && !isSignUp) {\n        return null;\n    }\n    return jsxRuntime.jsxs(\n        \"div\",\n        utils.__assign(\n            { \"data-supertokens\": \"secondaryText privacyPolicyAndTermsAndConditions\" },\n            {\n                children: [\n                    t(\"AUTH_PAGE_FOOTER_START\"),\n                    termsOfServiceLink !== undefined &&\n                        jsxRuntime.jsx(\n                            \"a\",\n                            utils.__assign(\n                                {\n                                    \"data-supertokens\": \"link\",\n                                    href: termsOfServiceLink,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferer\",\n                                },\n                                { children: t(\"AUTH_PAGE_FOOTER_TOS\") }\n                            )\n                        ),\n                    termsOfServiceLink !== undefined && privacyPolicyLink !== undefined && t(\"AUTH_PAGE_FOOTER_AND\"),\n                    privacyPolicyLink !== undefined &&\n                        jsxRuntime.jsx(\n                            \"a\",\n                            utils.__assign(\n                                {\n                                    \"data-supertokens\": \"link\",\n                                    href: privacyPolicyLink,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferer\",\n                                },\n                                { children: t(\"AUTH_PAGE_FOOTER_PP\") }\n                            )\n                        ),\n                    t(\"AUTH_PAGE_FOOTER_END\"),\n                ],\n            }\n        )\n    );\n});\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Imports.\n */\n/*\n * Component.\n */\nfunction HeavyArrowLeftIcon(_a) {\n    var color = _a.color;\n    return jsxRuntime.jsx(\n        \"svg\",\n        utils.__assign(\n            {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"13\",\n                viewBox: \"0 0 16 13\",\n                \"data-supertokens\": \"heavyArrowLeftIcon\",\n            },\n            {\n                children: jsxRuntime.jsx(\"path\", {\n                    fill: color,\n                    d: \"M13 6.8h.022H3.8l2.9 2.9a.761.761 0 0 1 0 1.07l-.451.451a.754.754 0 0 1-1.064 0L.22 6.254a.759.759 0 0 1 0-1.068L5.186.22a.755.755 0 0 1 1.064 0l.45.451a.746.746 0 0 1 .22.532.724.724 0 0 1-.22.522l-2.93 2.92h9.24a.781.781 0 0 1 .764.773v.638A.766.766 0 0 1 13 6.8z\",\n                    transform: \"translate(1.182 .708)\",\n                }),\n            }\n        )\n    );\n}\n\n/*\n * Component.\n */\nfunction BackButton(_a) {\n    var onClick = _a.onClick;\n    return jsxRuntime.jsx(\n        \"button\",\n        utils.__assign(\n            { onClick: onClick, \"data-supertokens\": \"backButton backButtonCommon\" },\n            { children: jsxRuntime.jsx(HeavyArrowLeftIcon, { color: \"rgb(var(--palette-textTitle))\" }) }\n        )\n    );\n}\n\nvar AuthPageHeader = withOverride(\"AuthPageHeader\", function AuthPageHeader(_a) {\n    var onSignInUpSwitcherClick = _a.onSignInUpSwitcherClick,\n        hasSeparateSignUpView = _a.hasSeparateSignUpView,\n        isSignUp = _a.isSignUp,\n        showBackButton = _a.showBackButton,\n        resetFactorList = _a.resetFactorList,\n        oauth2ClientInfo = _a.oauth2ClientInfo,\n        headerLabel = _a.headerLabel,\n        _b = _a.hideSignInSwitcher,\n        hideSignInSwitcher = _b === void 0 ? false : _b;\n    var t = translationContext.useTranslation();\n    return jsxRuntime.jsxs(React.Fragment, {\n        children: [\n            (oauth2ClientInfo === null || oauth2ClientInfo === void 0 ? void 0 : oauth2ClientInfo.logoUri) &&\n                jsxRuntime.jsx(\"img\", {\n                    src: oauth2ClientInfo.logoUri,\n                    alt: oauth2ClientInfo.clientName,\n                    \"data-supertokens\": \"authPageTitleOAuthClientLogo\",\n                }),\n            jsxRuntime.jsxs(\n                \"div\",\n                utils.__assign(\n                    { \"data-supertokens\": \"headerTitle withBackButton\" },\n                    {\n                        children: [\n                            showBackButton\n                                ? jsxRuntime.jsx(BackButton, { onClick: resetFactorList })\n                                : jsxRuntime.jsx(\"span\", {\n                                      \"data-supertokens\": \"backButtonPlaceholder backButtonCommon\",\n                                  }),\n                            headerLabel !== undefined\n                                ? t(headerLabel)\n                                : !hasSeparateSignUpView\n                                ? t(\"AUTH_PAGE_HEADER_TITLE_SIGN_IN_AND_UP\")\n                                : isSignUp\n                                ? t(\"AUTH_PAGE_HEADER_TITLE_SIGN_UP\")\n                                : t(\"AUTH_PAGE_HEADER_TITLE_SIGN_IN\"),\n                            jsxRuntime.jsx(\"span\", { \"data-supertokens\": \"backButtonPlaceholder backButtonCommon\" }),\n                        ],\n                    }\n                )\n            ),\n            oauth2ClientInfo &&\n                oauth2ClientInfo.clientName !== undefined &&\n                oauth2ClientInfo.clientName.length > 0 &&\n                jsxRuntime.jsxs(\n                    \"div\",\n                    utils.__assign(\n                        { \"data-supertokens\": \"authPageTitleOAuthClient\" },\n                        {\n                            children: [\n                                t(\"AUTH_PAGE_HEADER_TITLE_SIGN_IN_UP_TO_APP\"),\n                                oauth2ClientInfo.clientUri !== undefined\n                                    ? jsxRuntime.jsx(\n                                          \"a\",\n                                          utils.__assign(\n                                              {\n                                                  \"data-supertokens\": \"authPageTitleOAuthClientUrl link\",\n                                                  href: oauth2ClientInfo.clientUri,\n                                              },\n                                              { children: oauth2ClientInfo.clientName }\n                                          )\n                                      )\n                                    : jsxRuntime.jsx(\n                                          \"span\",\n                                          utils.__assign(\n                                              { \"data-supertokens\": \"authPageTitleOAuthClientName\" },\n                                              { children: oauth2ClientInfo.clientName }\n                                          )\n                                      ),\n                            ],\n                        }\n                    )\n                ),\n            !hideSignInSwitcher &&\n                hasSeparateSignUpView &&\n                (!isSignUp\n                    ? jsxRuntime.jsxs(\n                          \"div\",\n                          utils.__assign(\n                              { \"data-supertokens\": \"headerSubtitle secondaryText\" },\n                              {\n                                  children: [\n                                      t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_IN_START\"),\n                                      jsxRuntime.jsx(\n                                          \"span\",\n                                          utils.__assign(\n                                              { \"data-supertokens\": \"link\", onClick: onSignInUpSwitcherClick },\n                                              { children: t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_IN_SIGN_UP_LINK\") }\n                                          )\n                                      ),\n                                      t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_IN_END\"),\n                                  ],\n                              }\n                          )\n                      )\n                    : jsxRuntime.jsxs(\n                          \"div\",\n                          utils.__assign(\n                              { \"data-supertokens\": \"headerSubtitle secondaryText\" },\n                              {\n                                  children: [\n                                      t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_UP_START\"),\n                                      jsxRuntime.jsx(\n                                          \"span\",\n                                          utils.__assign(\n                                              { \"data-supertokens\": \"link\", onClick: onSignInUpSwitcherClick },\n                                              { children: t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_UP_SIGN_IN_LINK\") }\n                                          )\n                                      ),\n                                      t(\"AUTH_PAGE_HEADER_SUBTITLE_SIGN_UP_END\"),\n                                  ],\n                              }\n                          )\n                      )),\n            jsxRuntime.jsx(\"div\", { \"data-supertokens\": \"divider\" }),\n        ],\n    });\n});\n\nfunction AuthPageTheme(props) {\n    if (props.fullPageCompWithPreloadedInfo) {\n        return jsxRuntime.jsx(jsxRuntime.Fragment, {\n            children: props.fullPageCompWithPreloadedInfo.component(\n                utils.__assign(utils.__assign({}, props), {\n                    preloadInfo: props.fullPageCompWithPreloadedInfo.preloadInfo,\n                    showBackButton: props.showBackButton,\n                })\n            ),\n        });\n    }\n    return jsxRuntime.jsxs(\n        \"div\",\n        utils.__assign(\n            {\n                \"data-supertokens\": \"container authPage \".concat(\n                    props.factorIds.length > 1 ? \"multiFactor\" : \"singleFactor\"\n                ),\n            },\n            {\n                children: [\n                    jsxRuntime.jsxs(\n                        \"div\",\n                        utils.__assign(\n                            { \"data-supertokens\": \"row\" },\n                            {\n                                children: [\n                                    jsxRuntime.jsx(AuthPageHeader, {\n                                        factorIds: props.factorIds,\n                                        isSignUp: props.isSignUp,\n                                        onSignInUpSwitcherClick: props.onSignInUpSwitcherClick,\n                                        hasSeparateSignUpView: props.hasSeparateSignUpView,\n                                        resetFactorList: props.resetFactorList,\n                                        showBackButton: props.showBackButton,\n                                        oauth2ClientInfo: props.oauth2ClientInfo,\n                                    }),\n                                    props.error !== undefined && jsxRuntime.jsx(GeneralError, { error: props.error }),\n                                    jsxRuntime.jsx(AuthPageComponentList, utils.__assign({}, props)),\n                                    jsxRuntime.jsx(AuthPageFooter, {\n                                        factorIds: props.factorIds,\n                                        isSignUp: props.isSignUp,\n                                        hasSeparateSignUpView: props.hasSeparateSignUpView,\n                                        privacyPolicyLink: props.privacyPolicyLink,\n                                        termsOfServiceLink: props.termsOfServiceLink,\n                                    }),\n                                ],\n                            }\n                        )\n                    ),\n                    jsxRuntime.jsx(SuperTokensBranding, {}),\n                ],\n            }\n        )\n    );\n}\nfunction AuthPageThemeWrapper(props) {\n    var rootStyle = superTokens.SuperTokens.getInstanceOrThrow().rootStyle;\n    return jsxRuntime.jsx(\n        UserContextWrapper,\n        utils.__assign(\n            { userContext: props.userContext },\n            {\n                children: jsxRuntime.jsx(\n                    ThemeBase,\n                    utils.__assign(\n                        { userStyles: [rootStyle] },\n                        { children: jsxRuntime.jsx(AuthPageTheme, utils.__assign({}, props)) }\n                    )\n                ),\n            }\n        )\n    );\n}\n\nvar errorQSMap = {\n    signin: \"SOMETHING_WENT_WRONG_ERROR\",\n    no_email_present: \"THIRD_PARTY_ERROR_NO_EMAIL\",\n    restart_link: \"ERROR_SIGN_IN_UP_LINK\",\n};\nvar AuthPageWrapper = function (props) {\n    var authRecipeComponentOverrides = useContext();\n    return jsxRuntime.jsx(\n        UserContextProvider,\n        utils.__assign(\n            { userContext: props.userContext },\n            {\n                children: jsxRuntime.jsx(\n                    SessionAuthWrapper,\n                    utils.__assign(\n                        { requireAuth: false, doRedirection: false },\n                        {\n                            children: jsxRuntime.jsx(\n                                ComponentOverrideContext.Provider,\n                                utils.__assign(\n                                    { value: authRecipeComponentOverrides },\n                                    { children: jsxRuntime.jsx(AuthPageInner, utils.__assign({}, props)) }\n                                )\n                            ),\n                        }\n                    )\n                ),\n            }\n        )\n    );\n};\nvar AuthPageInner = function (props) {\n    var _a, _b, _c, _d, _e;\n    if (props.factors !== undefined && props.factors.length === 0) {\n        throw new Error(\"The factors array cannot be empty\");\n    }\n    var windowHandler$1 = windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler;\n    var search = new URLSearchParams(windowHandler$1.location.getSearch());\n    var showStringFromQS = search.get(\"show\");\n    var isSignUpFromQS =\n        props.useSignUpStateFromQueryString !== true || showStringFromQS === null\n            ? undefined\n            : showStringFromQS === \"signup\";\n    var errorFromQS =\n        search.get(\"error\") !== null\n            ? (_b = (_a = search.get(\"message\")) !== null && _a !== void 0 ? _a : search.get(\"error\")) !== null &&\n              _b !== void 0\n                ? _b\n                : undefined\n            : undefined;\n    errorFromQS =\n        errorFromQS !== undefined\n            ? (_c = errorQSMap[errorFromQS]) !== null && _c !== void 0\n                ? _c\n                : errorFromQS\n            : undefined;\n    var showStringFromQSRef = React.useRef(showStringFromQS);\n    var errorFromQSRef = React.useRef(errorFromQS);\n    var loginChallenge = search.get(\"loginChallenge\");\n    var forceFreshAuth = search.get(\"forceFreshAuth\") === \"true\";\n    var sessionContext = useSessionContext();\n    var userContext = useUserContext();\n    var rethrowInRender = utils.useRethrowInRender();\n    var _f = React.useState(undefined),\n        loadedDynamicLoginMethods = _f[0],\n        setLoadedDynamicLoginMethods = _f[1];\n    var _g = React.useState(undefined),\n        oauth2ClientInfo = _g[0],\n        setOAuth2ClientInfo = _g[1];\n    var _h = React.useState(errorFromQS),\n        error = _h[0],\n        setError = _h[1];\n    var _j = React.useState(false),\n        sessionLoadedAndNotRedirecting = _j[0],\n        setSessionLoadedAndNotRedirecting = _j[1];\n    var st = superTokens.SuperTokens.getInstanceOrThrow();\n    var _k = React.useState(props.factors),\n        factorList = _k[0],\n        setFactorList = _k[1];\n    var _l = React.useState(\n            (_e = (_d = props.isSignUp) !== null && _d !== void 0 ? _d : isSignUpFromQS) !== null && _e !== void 0\n                ? _e\n                : st.defaultToSignUp\n        ),\n        isSignUp = _l[0],\n        setIsSignUp = _l[1];\n    // We use this to signal that we need to update the components we show on screen\n    var _m = React.useState(0),\n        rebuildReqCount = _m[0],\n        setRebuildReqCount = _m[1];\n    var lastBuild = React.useRef({ buildReq: undefined });\n    React.useEffect(function () {\n        if (props.useSignUpStateFromQueryString && showStringFromQSRef.current !== showStringFromQS) {\n            var isSignUpFromQS_1 =\n                props.useSignUpStateFromQueryString !== true || showStringFromQS === null\n                    ? undefined\n                    : showStringFromQS === \"signup\";\n            showStringFromQSRef.current = showStringFromQS;\n            var newIsSignUpVal =\n                isSignUpFromQS_1 !== null && isSignUpFromQS_1 !== void 0 ? isSignUpFromQS_1 : st.defaultToSignUp;\n            if (isSignUp !== newIsSignUpVal) {\n                setIsSignUp(newIsSignUpVal);\n                setRebuildReqCount(function (v) {\n                    return v + 1;\n                });\n            }\n        }\n    });\n    React.useEffect(function () {\n        if (errorFromQSRef.current !== errorFromQS) {\n            errorFromQSRef.current = errorFromQS;\n            setError(errorFromQS);\n        }\n    });\n    var onSignInUpSwitcherClick = React.useCallback(\n        function () {\n            if (props.useSignUpStateFromQueryString === true) {\n                utils.updateQueryParam(\"show\", isSignUp ? \"signin\" : \"signup\");\n            }\n            setError(undefined);\n            setIsSignUp(!isSignUp);\n            setRebuildReqCount(function (v) {\n                return v + 1;\n            });\n        },\n        [isSignUp, setIsSignUp, setRebuildReqCount, setError, props.useSignUpStateFromQueryString]\n    );\n    React.useEffect(\n        function () {\n            if (loadedDynamicLoginMethods) {\n                return;\n            }\n            superTokens.Multitenancy.getInstanceOrThrow()\n                .getCurrentDynamicLoginMethods({ userContext: userContext })\n                .then(\n                    function (loginMethods) {\n                        return setLoadedDynamicLoginMethods(loginMethods);\n                    },\n                    function (err) {\n                        return rethrowInRender(err);\n                    }\n                );\n        },\n        [loadedDynamicLoginMethods, setLoadedDynamicLoginMethods]\n    );\n    utils.useOnMountAPICall(\n        function () {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                var oauth2Recipe;\n                return utils.__generator(this, function (_a) {\n                    if (oauth2ClientInfo) {\n                        return [2 /*return*/];\n                    }\n                    oauth2Recipe = recipe.OAuth2Provider.getInstance();\n                    if (oauth2Recipe !== undefined && loginChallenge !== null) {\n                        return [\n                            2 /*return*/,\n                            oauth2Recipe.webJSRecipe.getLoginChallengeInfo({\n                                loginChallenge: loginChallenge,\n                                userContext: userContext,\n                            }),\n                        ];\n                    }\n                    return [2 /*return*/, undefined];\n                });\n            });\n        },\n        function (info) {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    if (info !== undefined) {\n                        if (info.status === \"OK\") {\n                            setOAuth2ClientInfo(info.info);\n                        } else {\n                            setError(\"SOMETHING_WENT_WRONG_ERROR\");\n                        }\n                    }\n                    return [2 /*return*/];\n                });\n            });\n        },\n        function () {\n            utils.clearQueryParams([\"loginChallenge\"]);\n            setError(\"SOMETHING_WENT_WRONG_ERROR\");\n        }\n    );\n    React.useEffect(\n        function () {\n            if (sessionLoadedAndNotRedirecting) {\n                return;\n            }\n            // we want to do this just once, so we supply it with only the loading state.\n            // if we supply it with props, sessionContext, then once the user signs in, then this will route the\n            // user to the dashboard, as opposed to the sign up / sign in functions.\n            if (sessionContext.loading === false) {\n                if (sessionContext.doesSessionExist) {\n                    if (props.onSessionAlreadyExists !== undefined) {\n                        props.onSessionAlreadyExists();\n                    } else if (props.redirectOnSessionExists !== false && !forceFreshAuth) {\n                        types.Session.getInstanceOrThrow().config.onHandleEvent({\n                            action: \"SESSION_ALREADY_EXISTS\",\n                        });\n                        var oauth2Recipe_1 = recipe.OAuth2Provider.getInstance();\n                        if (loginChallenge !== null && oauth2Recipe_1 !== undefined) {\n                            (function () {\n                                return utils.__awaiter(this, void 0, void 0, function () {\n                                    var frontendRedirectTo;\n                                    return utils.__generator(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0:\n                                                return [\n                                                    4 /*yield*/,\n                                                    oauth2Recipe_1.webJSRecipe.getRedirectURLToContinueOAuthFlow({\n                                                        loginChallenge: loginChallenge,\n                                                        userContext: userContext,\n                                                    }),\n                                                ];\n                                            case 1:\n                                                frontendRedirectTo = _a.sent().frontendRedirectTo;\n                                                return [\n                                                    2 /*return*/,\n                                                    types.Session.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(\n                                                        {\n                                                            // We get here if the user was redirected to the auth screen with an already existing session\n                                                            // and a loginChallenge (we check the forceFreshAuth queryparam above)\n                                                            action: \"SUCCESS_OAUTH2\",\n                                                            frontendRedirectTo: frontendRedirectTo,\n                                                            // We can use these defaults, since this is not the result of a sign in/up call\n                                                            createdNewUser: false,\n                                                            isNewRecipeUser: false,\n                                                            newSessionCreated: false,\n                                                            tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                                            recipeId: types.Session.RECIPE_ID,\n                                                        },\n                                                        types.Session.RECIPE_ID,\n                                                        utils.getRedirectToPathFromURL(),\n                                                        userContext,\n                                                        props.navigate\n                                                    ),\n                                                ];\n                                        }\n                                    });\n                                });\n                            })().catch(rethrowInRender);\n                        } else {\n                            void types.Session.getInstanceOrThrow()\n                                .validateGlobalClaimsAndHandleSuccessRedirection(\n                                    undefined,\n                                    types.Session.RECIPE_ID,\n                                    utils.getRedirectToPathFromURL(),\n                                    userContext,\n                                    props.navigate\n                                )\n                                .catch(rethrowInRender);\n                        }\n                    } else {\n                        setSessionLoadedAndNotRedirecting(true);\n                    }\n                } else {\n                    setSessionLoadedAndNotRedirecting(true);\n                }\n            }\n        },\n        [sessionContext.loading]\n    );\n    var _o = React.useState(),\n        authComponentListInfo = _o[0],\n        setAuthComponentListInfo = _o[1];\n    var showUseAnotherLink =\n        factorList !== undefined &&\n        (props.factors === undefined ||\n            props.factors.some(function (id) {\n                return !factorList.includes(id);\n            }));\n    var stInstance = superTokens.SuperTokens.getInstanceOrThrow();\n    var privacyPolicyLink = stInstance.privacyPolicyLink;\n    var termsOfServiceLink = stInstance.termsOfServiceLink;\n    React.useEffect(\n        function () {\n            var abortCtl = new AbortController();\n            if (lastBuild.current.buildReq === rebuildReqCount) {\n                return;\n            }\n            if (\n                sessionLoadedAndNotRedirecting &&\n                (loadedDynamicLoginMethods !== undefined || !superTokens.SuperTokens.usesDynamicLoginMethods)\n            ) {\n                void buildAndSetChildProps(\n                    props.preBuiltUIList,\n                    loadedDynamicLoginMethods,\n                    userContext,\n                    factorList,\n                    isSignUp,\n                    setAuthComponentListInfo,\n                    abortCtl.signal\n                ).then(function () {\n                    lastBuild.current.buildReq = rebuildReqCount;\n                }, rethrowInRender);\n            }\n            return function () {\n                abortCtl.abort();\n            };\n        },\n        [\n            sessionLoadedAndNotRedirecting,\n            rebuildReqCount,\n            setRebuildReqCount,\n            props.preBuiltUIList,\n            loadedDynamicLoginMethods,\n            userContext,\n            factorList,\n            isSignUp,\n            setAuthComponentListInfo,\n            rethrowInRender,\n        ]\n    );\n    var onAuthSuccess = React.useCallback(\n        function (ctx) {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                var oauth2Recipe, frontendRedirectTo;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            oauth2Recipe = recipe.OAuth2Provider.getInstance();\n                            if (loginChallenge === null || oauth2Recipe === undefined) {\n                                return [\n                                    2 /*return*/,\n                                    types.Session.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(\n                                        utils.__assign(utils.__assign({}, ctx), {\n                                            action: \"SUCCESS\",\n                                            tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                            redirectToPath: utils.getRedirectToPathFromURL(),\n                                        }),\n                                        ctx.recipeId,\n                                        utils.getRedirectToPathFromURL(),\n                                        userContext,\n                                        props.navigate\n                                    ),\n                                ];\n                            }\n                            return [\n                                4 /*yield*/,\n                                oauth2Recipe.webJSRecipe.getRedirectURLToContinueOAuthFlow({\n                                    loginChallenge: loginChallenge,\n                                    userContext: userContext,\n                                }),\n                            ];\n                        case 1:\n                            frontendRedirectTo = _a.sent().frontendRedirectTo;\n                            return [\n                                2 /*return*/,\n                                types.Session.getInstanceOrThrow().validateGlobalClaimsAndHandleSuccessRedirection(\n                                    utils.__assign(utils.__assign({}, ctx), {\n                                        action: \"SUCCESS_OAUTH2\",\n                                        tenantIdFromQueryParams: utils.getTenantIdFromQueryParams(),\n                                        frontendRedirectTo: frontendRedirectTo,\n                                    }),\n                                    ctx.recipeId,\n                                    utils.getRedirectToPathFromURL(),\n                                    userContext,\n                                    props.navigate\n                                ),\n                            ];\n                    }\n                });\n            });\n        },\n        [loginChallenge]\n    );\n    var childProps =\n        authComponentListInfo !== undefined &&\n        (loginChallenge === null || oauth2ClientInfo !== undefined || recipe.OAuth2Provider.getInstance() === undefined)\n            ? utils.__assign(utils.__assign({}, authComponentListInfo), {\n                  oauth2ClientInfo: oauth2ClientInfo,\n                  onAuthSuccess: onAuthSuccess,\n                  error: error,\n                  onError: function (err) {\n                      setError(err);\n                  },\n                  clearError: function () {\n                      return setError(undefined);\n                  },\n                  navigate: props.navigate,\n                  onSignInUpSwitcherClick: onSignInUpSwitcherClick,\n                  privacyPolicyLink: privacyPolicyLink,\n                  rebuildAuthPage: function () {\n                      return setRebuildReqCount(function (v) {\n                          return v + 1;\n                      });\n                  },\n                  setFactorList: function (factorIds) {\n                      setFactorList(factorIds);\n                      setRebuildReqCount(function (v) {\n                          return v + 1;\n                      });\n                  },\n                  resetFactorList: function () {\n                      setFactorList(props.factors);\n                      setRebuildReqCount(function (v) {\n                          return v + 1;\n                      });\n                  },\n                  showBackButton: showUseAnotherLink,\n                  termsOfServiceLink: termsOfServiceLink,\n                  userContext: userContext,\n              })\n            : undefined;\n    var mergedTranslations = React.useMemo(\n        function () {\n            var res = superTokens.defaultTranslationsCommon;\n            if (authComponentListInfo !== undefined) {\n                for (var _i = 0, _a = props.preBuiltUIList; _i < _a.length; _i++) {\n                    var ui = _a[_i];\n                    res = utils.mergeObjects(res, ui.languageTranslations);\n                }\n            }\n            res = utils.mergeObjects(res, st.languageTranslations.userTranslationStore);\n            return res;\n        },\n        [st.languageTranslations.userTranslationStore, authComponentListInfo]\n    );\n    if (childProps === undefined) {\n        return jsxRuntime.jsx(DynamicLoginMethodsSpinner, {});\n    } else {\n        return jsxRuntime.jsx(\n            DynamicLoginMethodsProvider,\n            utils.__assign(\n                { value: loadedDynamicLoginMethods },\n                {\n                    children: jsxRuntime.jsx(\n                        translationContext.TranslationContextProvider,\n                        utils.__assign(\n                            {\n                                defaultLanguage: st.languageTranslations.defaultLanguage,\n                                defaultStore: mergedTranslations,\n                                translationControlEventSource: st.languageTranslations.translationEventSource,\n                                userTranslationFunc: st.languageTranslations.userTranslationFunc,\n                            },\n                            {\n                                children: jsxRuntime.jsx(\n                                    WithOrWithoutShadowDom,\n                                    utils.__assign(\n                                        { useShadowDom: st.useShadowDom },\n                                        {\n                                            children: jsxRuntime.jsxs(React.Fragment, {\n                                                children: [\n                                                    props.children === undefined &&\n                                                        jsxRuntime.jsx(\n                                                            AuthPageThemeWrapper,\n                                                            utils.__assign({}, childProps)\n                                                        ),\n                                                    props.children &&\n                                                        React__default.default.Children.map(\n                                                            props.children,\n                                                            function (child) {\n                                                                if (React__default.default.isValidElement(child)) {\n                                                                    return React__default.default.cloneElement(\n                                                                        child,\n                                                                        childProps\n                                                                    );\n                                                                }\n                                                                return child;\n                                                            }\n                                                        ),\n                                                ],\n                                            }),\n                                        }\n                                    )\n                                ),\n                            }\n                        )\n                    ),\n                }\n            )\n        );\n    }\n};\nfunction buildAndSetChildProps(\n    recipeRouters,\n    loadedDynamicLoginMethods,\n    userContext,\n    factorListState,\n    isSignUpState,\n    setComponentListInfo,\n    abort\n) {\n    var _a, _b, _c, _d, _e;\n    return utils.__awaiter(this, void 0, void 0, function () {\n        var authRecipesInited,\n            firstFactors,\n            missingPreBuiltUIs,\n            thirdPartyPreBuiltUI,\n            hasSeparateSignUpView,\n            isSignUp,\n            authComps,\n            _i,\n            recipeRouters_1,\n            ui,\n            _f,\n            authComps_1,\n            a,\n            preloadRes,\n            partialAuthComps,\n            selectedComponents,\n            availableFactors,\n            _g,\n            partialAuthComps_1,\n            comp,\n            _h,\n            _j,\n            id,\n            source;\n        return utils.__generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    authRecipesInited = superTokens.SuperTokens.getInstanceOrThrow().recipeList.filter(function (\n                        recipe\n                    ) {\n                        return \"firstFactorIds\" in recipe;\n                    });\n                    firstFactors =\n                        (_c =\n                            (_a =\n                                factorListState !== null && factorListState !== void 0\n                                    ? factorListState\n                                    : loadedDynamicLoginMethods === null || loadedDynamicLoginMethods === void 0\n                                    ? void 0\n                                    : loadedDynamicLoginMethods.firstFactors) !== null && _a !== void 0\n                                ? _a\n                                : (_b = recipe$1.MultiFactorAuth.getInstance()) === null || _b === void 0\n                                ? void 0\n                                : _b.config.firstFactors) !== null && _c !== void 0\n                            ? _c\n                            : authRecipesInited.reduce(function (acc, recipe) {\n                                  return utils.__spreadArray(\n                                      utils.__spreadArray([], acc, true),\n                                      recipe.getFirstFactorsForAuthPage(),\n                                      true\n                                  );\n                              }, []);\n                    if (\n                        factorListState === undefined &&\n                        (loadedDynamicLoginMethods === null || loadedDynamicLoginMethods === void 0\n                            ? void 0\n                            : loadedDynamicLoginMethods.firstFactors) === undefined &&\n                        ((_d = recipe$1.MultiFactorAuth.getInstance()) === null || _d === void 0\n                            ? void 0\n                            : _d.config.firstFactors) === undefined\n                    ) {\n                        missingPreBuiltUIs = authRecipesInited.filter(function (recipe) {\n                            return !recipeRouters.some(function (router) {\n                                return router.recipeInstance.recipeID === recipe.recipeID;\n                            });\n                        });\n                        if (missingPreBuiltUIs.length > 0) {\n                            // In this case we'd most likely throw anyway (except in the case of EP+Pwless), but we want to provide a better error message\n                            throw new Error(\n                                \"Factor list not set but PreBuiltUI not added for \".concat(\n                                    missingPreBuiltUIs.map(function (r) {\n                                        return r.recipeID;\n                                    })\n                                )\n                            );\n                        }\n                    }\n                    if (firstFactors.length === 0) {\n                        throw new Error(\"There are no enabled factors to show\");\n                    }\n                    if (firstFactors.includes(types.FactorIds.THIRDPARTY)) {\n                        thirdPartyPreBuiltUI = recipeRouters.find(function (r) {\n                            return r.recipeInstance.recipeID === types.FactorIds.THIRDPARTY;\n                        });\n                        // here we ignore if we couldn't find the necessary prebuilt UI, because we want to throw in the standard location\n                        if (thirdPartyPreBuiltUI !== undefined) {\n                            // We remove the thirdparty factor if:\n                            //  We have no provider defined on the client side and\n                            //  We have no provider defined for the tenant either\n                            if (\n                                thirdPartyPreBuiltUI.recipeInstance.config.signInAndUpFeature.providers.length === 0 &&\n                                (!superTokens.SuperTokens.usesDynamicLoginMethods ||\n                                    loadedDynamicLoginMethods.thirdparty.providers.length === 0)\n                            ) {\n                                firstFactors = firstFactors.filter(function (f) {\n                                    return f !== types.FactorIds.THIRDPARTY;\n                                });\n                                if (firstFactors.length === 0) {\n                                    throw new Error(\n                                        \"The only enabled first factor is thirdparty, but no providers were defined. Please define at least one provider.\"\n                                    );\n                                }\n                            }\n                        }\n                    }\n                    hasSeparateSignUpView = recipeRouters.some(function (ui) {\n                        return (\n                            ui.requiresSignUpPage &&\n                            ui.recipeInstance.firstFactorIds.some(function (id) {\n                                return firstFactors.includes(id);\n                            })\n                        );\n                    });\n                    isSignUp = hasSeparateSignUpView && isSignUpState;\n                    authComps = [];\n                    for (_i = 0, recipeRouters_1 = recipeRouters; _i < recipeRouters_1.length; _i++) {\n                        ui = recipeRouters_1[_i];\n                        authComps.push.apply(authComps, ui.getAuthComponents());\n                    }\n                    (_f = 0), (authComps_1 = authComps);\n                    _k.label = 1;\n                case 1:\n                    if (!(_f < authComps_1.length)) return [3 /*break*/, 4];\n                    a = authComps_1[_f];\n                    if (!(a.type === \"FULL_PAGE\")) return [3 /*break*/, 3];\n                    return [4 /*yield*/, a.preloadInfoAndRunChecks(firstFactors, userContext, isSignUp)];\n                case 2:\n                    preloadRes = _k.sent();\n                    // We skip setting if the auth page unmounted while we were checking\n                    // if we should show any full page comps\n                    if (abort.aborted) {\n                        return [2 /*return*/];\n                    }\n                    if (preloadRes.shouldDisplay) {\n                        setComponentListInfo({\n                            authComponents: [],\n                            fullPageCompWithPreloadedInfo: {\n                                component: a.component,\n                                preloadInfo: preloadRes.preloadInfo,\n                            },\n                            isSignUp: isSignUp,\n                            hasSeparateSignUpView: hasSeparateSignUpView,\n                            factorIds: firstFactors,\n                        });\n                        return [2 /*return*/];\n                    }\n                    _k.label = 3;\n                case 3:\n                    _f++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    if (abort.aborted) {\n                        // We stop if the auth page unmounted while we were checking if we should show any full page comps\n                        return [2 /*return*/];\n                    }\n                    partialAuthComps = authComps.filter(function (c) {\n                        return (\n                            c.type !== \"FULL_PAGE\" &&\n                            c.factorIds.every(function (id) {\n                                return firstFactors.includes(id);\n                            })\n                        );\n                    });\n                    partialAuthComps = partialAuthComps.filter(\n                        function (c) {\n                            return (\n                                c.type === \"SIGN_IN_UP\" || // sign in+up components show in all cases\n                                (isSignUp ? c.type === \"SIGN_UP\" : c.type === \"SIGN_IN\")\n                            );\n                        } // otherwise we check if the sign up state is appropriate\n                    );\n                    // We sort the auth components by the number of factors they cover, DESC\n                    // This helps us choose combination components (ep+pwless) first\n                    partialAuthComps.sort(function (a, b) {\n                        return b.factorIds.length - a.factorIds.length;\n                    });\n                    selectedComponents = utils$1.selectComponentsToCoverAllFirstFactors(partialAuthComps, firstFactors);\n                    if (selectedComponents === undefined) {\n                        availableFactors = new Set();\n                        for (_g = 0, partialAuthComps_1 = partialAuthComps; _g < partialAuthComps_1.length; _g++) {\n                            comp = partialAuthComps_1[_g];\n                            for (_h = 0, _j = comp.factorIds; _h < _j.length; _h++) {\n                                id = _j[_h];\n                                availableFactors.add(id);\n                            }\n                        }\n                        source =\n                            factorListState !== undefined\n                                ? \"local state or props\"\n                                : (loadedDynamicLoginMethods === null || loadedDynamicLoginMethods === void 0\n                                      ? void 0\n                                      : loadedDynamicLoginMethods.firstFactors) !== undefined\n                                ? \"dynamic tenant configuration\"\n                                : ((_e = recipe$1.MultiFactorAuth.getInstance()) === null || _e === void 0\n                                      ? void 0\n                                      : _e.config.firstFactors) !== undefined\n                                ? \"the config passed to the MFA recipe\"\n                                : \"all recipes initialized\";\n                        throw new Error(\n                            \"Couldn't cover all first factors: \"\n                                .concat(firstFactors.join(\", \"), \" (from \")\n                                .concat(source, \"), available components: \")\n                                .concat(Array.from(availableFactors).join(\", \"), \".\\n\") +\n                                \"You may have missed adding a recipe into the list of prebuiltUIs passed to list of prebuiltUIs passed to getSuperTokensRoutesForReactRouterDom, canHandleRoute, handleRoute functions or the AuthPage component.\\n\" +\n                                \"Another common error is adding a non-existent factor id into the list, e.g.: passwordless instead of otp-email/phone\"\n                        );\n                    }\n                    setComponentListInfo({\n                        authComponents: selectedComponents\n                            .sort(function (a, b) {\n                                return a.displayOrder - b.displayOrder;\n                            })\n                            .map(function (w) {\n                                return w.component;\n                            }),\n                        factorIds: firstFactors,\n                        hasSeparateSignUpView: hasSeparateSignUpView,\n                        isSignUp: isSignUp,\n                    });\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n\n// The related ADR: https://supertokens.com/docs/contribute/decisions/multitenancy/0006\nvar priorityOrder = [\n    {\n        rid: \"thirdpartyemailpassword\",\n        includes: [\"thirdparty\", \"emailpassword\"],\n        factorsProvided: [types.FactorIds.THIRDPARTY, types.FactorIds.EMAILPASSWORD],\n    },\n    {\n        rid: \"thirdpartypasswordless\",\n        includes: [\"thirdparty\", \"passwordless\"],\n        factorsProvided: [\n            types.FactorIds.THIRDPARTY,\n            types.FactorIds.OTP_PHONE,\n            types.FactorIds.OTP_EMAIL,\n            types.FactorIds.LINK_PHONE,\n            types.FactorIds.LINK_EMAIL,\n        ],\n    },\n    { rid: \"emailpassword\", includes: [\"emailpassword\"], factorsProvided: [types.FactorIds.EMAILPASSWORD] },\n    {\n        rid: \"passwordless\",\n        includes: [\"passwordless\"],\n        factorsProvided: [\n            types.FactorIds.OTP_PHONE,\n            types.FactorIds.OTP_EMAIL,\n            types.FactorIds.LINK_PHONE,\n            types.FactorIds.LINK_EMAIL,\n        ],\n    },\n    { rid: \"thirdparty\", includes: [\"thirdparty\"], factorsProvided: [types.FactorIds.THIRDPARTY] },\n];\nfunction chooseComponentBasedOnFirstFactors(firstFactors, routeComponents) {\n    var fallbackRid;\n    var fallbackComponent;\n    var _loop_1 = function (rid, factorsProvided) {\n        if (\n            firstFactors.every(function (factor) {\n                return factorsProvided.includes(factor);\n            })\n        ) {\n            var matchingComp = routeComponents.find(function (comp) {\n                return comp.recipeID === rid;\n            });\n            if (matchingComp) {\n                fallbackRid = rid;\n                fallbackComponent = matchingComp;\n                if (firstFactors.length === factorsProvided.length) {\n                    utils.logDebugMessage(\n                        \"Rendering \".concat(rid, \" because it matches factors: \").concat(firstFactors, \" exactly\")\n                    );\n                    return { value: matchingComp };\n                }\n            }\n        }\n    };\n    // We first try to find an exact match, and fall back on something that covers all factors (but maybe more)\n    /*\n        Examples:\n            1. firstFactors: emailpassword, route components from: thirdparty ->\n                - no matches found, throwing error\n\n            2. firstFactors: emailpassword, route components from: thirdpartyemailpassword ->\n                - we find thirdpartyemailpassword covers all first factors, save it as fallback\n                - we check all other recipes, bot nothing else has matching components\n                - return fallback from TPEP\n\n            3. firstFactors: emailpassword, route components from: thirdpartyemailpassword, emailpassword ->\n                - we find thirdpartyemailpassword covers all first factors, save it as fallback\n                - we find emailpassword as an exact match and return it\n\n            4. firstFactors: otp-phone, route components from: thirdpartypasswordless, passwordless, thirdparty ->\n                - we find thirdpartypasswordless covers all first factors (but more), save it as fallback\n                - we find passwordless that covers all factors (but more), saving it as a fallback.\n                  Keep in mind, that the passwordless and thirdpartypasswordless recipe provides 4 factors, so this is not an exact match.\n                - no other recipes have matching components, so we return the fallback from passwordless\n\n            5. firstFactors: thirdparty, otp-phone, route components from: thirdpartypasswordless, passwordless, thirdparty ->\n                - we find thirdpartypasswordless covers all first factors (but more), save it as fallback\n                  this is not an exact match, because thirdpartypasswordless provides multiple passwordless factors.\n                - no other recipes cover all factors, so we return the fallback from thirdpartypasswordless\n    */\n    for (var _i = 0, priorityOrder_1 = priorityOrder; _i < priorityOrder_1.length; _i++) {\n        var _a = priorityOrder_1[_i],\n            rid = _a.rid,\n            factorsProvided = _a.factorsProvided;\n        var state_1 = _loop_1(rid, factorsProvided);\n        if (typeof state_1 === \"object\") return state_1.value;\n    }\n    if (fallbackComponent !== undefined) {\n        utils.logDebugMessage(\"Rendering \".concat(fallbackRid, \" to cover \").concat(firstFactors, \" as a fallback\"));\n        return fallbackComponent;\n    }\n    // We may get here if:\n    // - The backend/tenantconfig is older and didn't have the firstFactors array defined\n    // - There is a configuration error\n    // We choose not to throw in the configuration error case because:\n    // - we can't tell these cases apart after the firstFactors array was made a requrired prop\n    // - we want to maintain backwards compatbility\n    // Here we replicate the old logic we had before the firstFactors array\n    var enabledLoginMethods = [];\n    if (firstFactors.includes(types.FactorIds.EMAILPASSWORD)) {\n        enabledLoginMethods.push(\"emailpassword\");\n    }\n    if (firstFactors.includes(types.FactorIds.THIRDPARTY)) {\n        enabledLoginMethods.push(\"thirdparty\");\n    }\n    if (\n        [\n            types.FactorIds.OTP_PHONE,\n            types.FactorIds.OTP_EMAIL,\n            types.FactorIds.LINK_PHONE,\n            types.FactorIds.LINK_EMAIL,\n        ].some(function (pwlessFactorId) {\n            return firstFactors.includes(pwlessFactorId);\n        })\n    ) {\n        enabledLoginMethods.push(\"passwordless\");\n    }\n    utils.logDebugMessage(\n        \"Choosing component using fallback logic w/ \".concat(enabledLoginMethods.join(\", \"), \" enabled\")\n    );\n    var enabledRecipeCount = enabledLoginMethods.length;\n    var _loop_2 = function (rid, includes) {\n        if (\n            enabledRecipeCount === includes.length &&\n            includes.every(function (subRId) {\n                return enabledLoginMethods.includes(subRId);\n            })\n        ) {\n            var matchingComp = routeComponents.find(function (comp) {\n                return comp.recipeID === rid;\n            });\n            if (matchingComp) {\n                return { value: matchingComp };\n            }\n        }\n    };\n    // We try and choose which component to show based on the enabled login methods\n    // We first try to find an exact match (a recipe that covers all enabled login methods and nothing else)\n    for (var _b = 0, priorityOrder_2 = priorityOrder; _b < priorityOrder_2.length; _b++) {\n        var _c = priorityOrder_2[_b],\n            rid = _c.rid,\n            includes = _c.includes;\n        var state_2 = _loop_2(rid, includes);\n        if (typeof state_2 === \"object\") return state_2.value;\n    }\n    var _loop_3 = function (rid, includes) {\n        if (\n            includes.some(function (subRId) {\n                return enabledLoginMethods.includes(subRId);\n            })\n        ) {\n            var matchingComp = routeComponents.find(function (comp) {\n                return comp.recipeID === rid;\n            });\n            if (matchingComp) {\n                return { value: matchingComp };\n            }\n        }\n    };\n    // We try to find a partial match (so any recipe that overlaps with the enabled login methods)\n    for (var _d = 0, priorityOrder_3 = priorityOrder; _d < priorityOrder_3.length; _d++) {\n        var _e = priorityOrder_3[_d],\n            rid = _e.rid,\n            includes = _e.includes;\n        var state_3 = _loop_3(rid, includes);\n        if (typeof state_3 === \"object\") return state_3.value;\n    }\n    throw new Error(\"No enabled recipes overlap with the requested firstFactors: \" + firstFactors);\n}\nvar RecipeRouter = /** @class */ (function () {\n    function RecipeRouter() {\n        var _this = this;\n        this.getPathsToFeatureComponentWithRecipeIdMap = function () {\n            // Memoized version of the map.\n            if (_this.pathsToFeatureComponentWithRecipeIdMap !== undefined) {\n                return _this.pathsToFeatureComponentWithRecipeIdMap;\n            }\n            var pathsToFeatureComponentWithRecipeIdMap = {};\n            var features = _this.getFeatures();\n            var featurePaths = Object.keys(features);\n            for (var j = 0; j < featurePaths.length; j++) {\n                // If no components yet for this route, initialize empty array.\n                var featurePath = featurePaths[j];\n                if (pathsToFeatureComponentWithRecipeIdMap[featurePath] === undefined) {\n                    pathsToFeatureComponentWithRecipeIdMap[featurePath] = [];\n                }\n                pathsToFeatureComponentWithRecipeIdMap[featurePath].push(features[featurePath]);\n            }\n            _this.pathsToFeatureComponentWithRecipeIdMap = pathsToFeatureComponentWithRecipeIdMap;\n            return _this.pathsToFeatureComponentWithRecipeIdMap;\n        };\n        this.requiresSignUpPage = false;\n    }\n    RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList = function (\n        normalisedUrl,\n        preBuiltUIList,\n        defaultToStaticList,\n        dynamicLoginMethods\n    ) {\n        var path = normalisedUrl.getAsStringDangerous();\n        // We check if we are on the auth page to later see if we should take first factors into account.\n        var isAuthPage =\n            path === superTokens.SuperTokens.getInstanceOrThrow().appInfo.websiteBasePath.getAsStringDangerous();\n        // We get all components that can handle the current path\n        var routeComponents = preBuiltUIList.reduce(function (components, c) {\n            var routes = c.getPathsToFeatureComponentWithRecipeIdMap();\n            var _loop_4 = function (routePath, routeComps) {\n                if (\n                    routePath === path ||\n                    new RegExp(\"^\" + routePath.replace(/:\\w+/g, \"[^/]+\").replace(/\\/\\*/g, \"/[^/]+\") + \"$\").test(path)\n                ) {\n                    components = components.concat(\n                        routeComps.map(function (c) {\n                            return { comp: c, route: routePath };\n                        })\n                    );\n                }\n            };\n            for (var _i = 0, _a = Object.entries(routes); _i < _a.length; _i++) {\n                var _b = _a[_i],\n                    routePath = _b[0],\n                    routeComps = _b[1];\n                _loop_4(routePath, routeComps);\n            }\n            return components;\n        }, []);\n        // We check the query params to see if any recipe was requested by id\n        var componentMatchingRid = routeComponents.find(function (c) {\n            return c.comp.matches();\n        });\n        // We default to to one requested by id or the first in the list\n        // i.e.: the first prebuilt ui in the list the user provided that can handle this route.\n        var defaultComp;\n        if (routeComponents.length === 0) {\n            defaultComp = undefined;\n        } else if (componentMatchingRid !== undefined) {\n            defaultComp = componentMatchingRid.comp;\n        } else {\n            defaultComp = routeComponents[0].comp;\n        }\n        // We check if any non-auth recipe (emailverification, totp) can handle this\n        // There should be no overlap between the routes handled by those and the auth recipes\n        // so if there is a match we can return early\n        var matchingNonAuthComponent = routeComponents.find(function (comp) {\n            var ridlist = priorityOrder.map(function (a) {\n                return a.rid;\n            });\n            return (\n                !ridlist.includes(comp.comp.recipeID) ||\n                comp.route !==\n                    superTokens.SuperTokens.getInstanceOrThrow().appInfo.websiteBasePath.getAsStringDangerous()\n            );\n        });\n        if (matchingNonAuthComponent) {\n            return matchingNonAuthComponent.comp;\n        }\n        // We use this option in `canHandleRoute`, because it may be called by custom UIs before\n        // dynamic login methods are loaded.\n        if (defaultToStaticList) {\n            return defaultComp;\n        }\n        var mfaRecipe = recipe$1.MultiFactorAuth.getInstance();\n        if (superTokens.SuperTokens.usesDynamicLoginMethods === false) {\n            // If we are not using dynamic login methods, we can use the rid requested by the app\n            if (componentMatchingRid) {\n                return componentMatchingRid.comp;\n            }\n            // if we have a static firstFactors config we take it into account on the auth page\n            // Other pages shouldn't care about this configuration.\n            // Embedded components are not affected, since this is only called by the routing component.\n            if (isAuthPage && mfaRecipe && mfaRecipe.config.firstFactors !== undefined) {\n                return chooseComponentBasedOnFirstFactors(\n                    mfaRecipe.config.firstFactors,\n                    routeComponents.map(function (c) {\n                        return c.comp;\n                    })\n                );\n            } else {\n                return defaultComp;\n            }\n        }\n        if (dynamicLoginMethods === undefined) {\n            throw new Error(\n                \"Should never come here: dynamic login methods info has not been loaded but recipeRouter rendered\"\n            );\n        }\n        // If we are using dynamic login methods, we check that the requested rid belongs to an enabled recipe\n        if (\n            componentMatchingRid && // if we find a component matching by rid\n            (!priorityOrder\n                .map(function (a) {\n                    return a.rid;\n                })\n                .includes(componentMatchingRid.comp.recipeID) || // from a non-auth recipe\n                priorityOrder.some(function (a) {\n                    return (\n                        a.rid === componentMatchingRid.comp.recipeID &&\n                        a.factorsProvided.some(function (factorId) {\n                            return dynamicLoginMethods.firstFactors.includes(factorId);\n                        })\n                    );\n                })) // or an enabled auth recipe\n        ) {\n            return componentMatchingRid.comp;\n        }\n        // if we have a firstFactors config for the tenant we take it into account on the auth page\n        // Other pages shouldn't care about this configuration.\n        // Embedded components are not affected, since this is only called by the routing component.\n        if (isAuthPage) {\n            return chooseComponentBasedOnFirstFactors(\n                dynamicLoginMethods.firstFactors,\n                routeComponents.map(function (c) {\n                    return c.comp;\n                })\n            );\n        }\n        return undefined;\n    };\n    return RecipeRouter;\n})();\n\nfunction RoutingComponent(props) {\n    var _a, _b;\n    var userContext = useUserContext();\n    var rethrowInRender = utils.useRethrowInRender();\n    var _c = React.useState(undefined),\n        loadedDynamicLoginMethods = _c[0],\n        setLoadedDynamicLoginMethods = _c[1];\n    var navigate =\n        (_a = props.getReactRouterDomWithCustomHistory()) === null || _a === void 0 ? void 0 : _a.useHistoryCustom();\n    var path = props.path;\n    var isAuthPage =\n        path === superTokens.SuperTokens.getInstanceOrThrow().appInfo.websiteBasePath.getAsStringDangerous();\n    var pluginRouteHandlers = superTokens.SuperTokens.getInstanceOrThrow().pluginRouteHandlers;\n    var location =\n        (_b = props.getReactRouterDomWithCustomHistory()) === null || _b === void 0 ? void 0 : _b.useLocation();\n    var componentToRender = React__default.default.useMemo(\n        function () {\n            if (isAuthPage) {\n                return;\n            }\n            var normalizedPath = new NormalisedURLPath__default.default(path);\n            var matchingPluginRouteHandler = pluginRouteHandlers.find(function (handler) {\n                return handler.path === path;\n            });\n            if (matchingPluginRouteHandler) {\n                return { component: matchingPluginRouteHandler.handler, recipeId: undefined };\n            }\n            // During development, this runs twice so as to warn devs of if there\n            // are any side effects that happen here. So in tests, it will result in\n            // the console log twice\n            if (loadedDynamicLoginMethods !== undefined || superTokens.SuperTokens.usesDynamicLoginMethods === false) {\n                var result = RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList(\n                    normalizedPath,\n                    props.preBuiltUIList,\n                    false,\n                    loadedDynamicLoginMethods\n                );\n                if (result === undefined && superTokens.SuperTokens.usesDynamicLoginMethods === true) {\n                    void redirectToAuth({ navigate: navigate, redirectBack: false });\n                }\n                return result;\n            }\n            return undefined;\n            // location dependency needs to be kept in order to get new component on url change\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        },\n        [path, location, loadedDynamicLoginMethods, props.preBuiltUIList]\n    );\n    React.useEffect(\n        function () {\n            if (loadedDynamicLoginMethods) {\n                return;\n            }\n            superTokens.Multitenancy.getInstanceOrThrow()\n                .getCurrentDynamicLoginMethods({ userContext: userContext })\n                .then(\n                    function (loginMethods) {\n                        return setLoadedDynamicLoginMethods(loginMethods);\n                    },\n                    function (err) {\n                        return rethrowInRender(err);\n                    }\n                );\n        },\n        [loadedDynamicLoginMethods, setLoadedDynamicLoginMethods]\n    );\n    if (isAuthPage) {\n        return jsxRuntime.jsx(AuthPageWrapper, {\n            preBuiltUIList: props.preBuiltUIList,\n            navigate: navigate,\n            useSignUpStateFromQueryString: true,\n        });\n    }\n    if (superTokens.SuperTokens.usesDynamicLoginMethods && loadedDynamicLoginMethods === undefined) {\n        return jsxRuntime.jsx(DynamicLoginMethodsSpinner, {});\n    }\n    if (\n        componentToRender === undefined ||\n        (loadedDynamicLoginMethods === undefined && superTokens.SuperTokens.usesDynamicLoginMethods)\n    ) {\n        return null;\n    }\n    return jsxRuntime.jsx(componentToRender.component, { navigate: navigate });\n}\n\n/*\n * Component.\n */\nfunction getSuperTokensRoutesForReactRouterDom$1(_a) {\n    var getReactRouterDomWithCustomHistory = _a.getReactRouterDomWithCustomHistory,\n        recipeList = _a.recipeList,\n        basePath = _a.basePath;\n    var routerInfo = getReactRouterDomWithCustomHistory();\n    if (routerInfo === undefined) {\n        return [];\n    }\n    var Route = routerInfo.router.Route;\n    var routes = Object.values(\n        recipeList.reduce(function (routes, recipe) {\n            var pathsToFeatureComponentWithRecipeIdMap = recipe.getPathsToFeatureComponentWithRecipeIdMap();\n            Object.keys(pathsToFeatureComponentWithRecipeIdMap).forEach(function (path) {\n                path = path === \"\" ? \"/\" : path;\n                var pathForRouter = getPathForRouter$1(basePath, path);\n                if (!(path in routes)) {\n                    routes[path] = jsxRuntime.jsx(\n                        Route,\n                        utils.__assign(\n                            { exact: true, path: pathForRouter },\n                            {\n                                children: jsxRuntime.jsx(RoutingComponent, {\n                                    getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                                    preBuiltUIList: recipeList,\n                                    path: path,\n                                }),\n                            }\n                        ),\n                        \"st-\".concat(path)\n                    );\n                }\n            });\n            return routes;\n        }, {})\n    );\n    var pluginRouteHandlers = superTokens.SuperTokens.getInstanceOrThrow().pluginRouteHandlers;\n    for (var _i = 0, pluginRouteHandlers_1 = pluginRouteHandlers; _i < pluginRouteHandlers_1.length; _i++) {\n        var handler = pluginRouteHandlers_1[_i];\n        var path = handler.path;\n        routes.push(\n            jsxRuntime.jsx(\n                Route,\n                utils.__assign(\n                    { exact: true, path: path },\n                    {\n                        children: jsxRuntime.jsx(RoutingComponent, {\n                            getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                            preBuiltUIList: recipeList,\n                            path: path,\n                        }),\n                    }\n                ),\n                \"st-plugin-\".concat(path)\n            )\n        );\n    }\n    if (\n        !superTokens.SuperTokens.getInstanceOrThrow().disableAuthRoute &&\n        recipeList.some(function (ui) {\n            return ui.getAuthComponents().length !== 0;\n        })\n    ) {\n        var path = superTokens.SuperTokens.getInstanceOrThrow()\n            .appInfo.websiteBasePath.appendPath(new NormalisedURLPath__default$1.default(\"/\"))\n            .getAsStringDangerous();\n        routes.push(\n            jsxRuntime.jsx(\n                Route,\n                utils.__assign(\n                    { exact: true, path: getPathForRouter$1(basePath, path) },\n                    {\n                        children: jsxRuntime.jsx(RoutingComponent, {\n                            getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                            preBuiltUIList: recipeList,\n                            path: path,\n                        }),\n                    }\n                ),\n                \"st-/auth\"\n            )\n        );\n    }\n    return routes;\n}\nfunction getPathForRouter$1(basePath, path) {\n    var pathForRouter = path;\n    if (basePath !== undefined) {\n        if (pathForRouter.startsWith(basePath)) {\n            pathForRouter = pathForRouter.slice(basePath.length);\n            if (!pathForRouter.startsWith(\"/\")) {\n                pathForRouter = \"/\" + pathForRouter;\n            }\n        } else {\n            throw new Error(\"basePath has to be a prefix of websiteBasePath passed to SuperTokens.init\");\n        }\n    }\n    return pathForRouter;\n}\n\n/*\n * Component.\n */\nfunction getSuperTokensRoutesForReactRouterDomV6(_a) {\n    var getReactRouterDomWithCustomHistory = _a.getReactRouterDomWithCustomHistory,\n        recipeList = _a.recipeList,\n        basePath = _a.basePath;\n    var routerInfo = getReactRouterDomWithCustomHistory();\n    if (routerInfo === undefined) {\n        return [];\n    }\n    var Route = routerInfo.router.Route;\n    var routes = Object.values(\n        recipeList.reduce(function (routes, recipe) {\n            var pathsToFeatureComponentWithRecipeIdMap = recipe.getPathsToFeatureComponentWithRecipeIdMap();\n            Object.keys(pathsToFeatureComponentWithRecipeIdMap).forEach(function (path) {\n                path = path === \"\" ? \"/\" : path;\n                var pathForRouter = getPathForRouter(basePath, path);\n                if (!(path in routes)) {\n                    routes[path] = jsxRuntime.jsx(\n                        Route,\n                        {\n                            path: pathForRouter,\n                            element: jsxRuntime.jsx(RoutingComponent, {\n                                getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                                preBuiltUIList: recipeList,\n                                path: path,\n                            }),\n                        },\n                        \"st-\".concat(path)\n                    );\n                }\n            });\n            return routes;\n        }, {})\n    );\n    var pluginRouteHandlers = superTokens.SuperTokens.getInstanceOrThrow().pluginRouteHandlers;\n    for (var _i = 0, pluginRouteHandlers_1 = pluginRouteHandlers; _i < pluginRouteHandlers_1.length; _i++) {\n        var handler = pluginRouteHandlers_1[_i];\n        var path = handler.path;\n        routes.push(\n            jsxRuntime.jsx(\n                Route,\n                {\n                    path: path,\n                    element: jsxRuntime.jsx(RoutingComponent, {\n                        getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                        preBuiltUIList: recipeList,\n                        path: path,\n                    }),\n                },\n                \"st-plugin-\".concat(path)\n            )\n        );\n    }\n    if (\n        !superTokens.SuperTokens.getInstanceOrThrow().disableAuthRoute &&\n        recipeList.some(function (ui) {\n            return ui.getAuthComponents().length !== 0;\n        })\n    ) {\n        var path = superTokens.SuperTokens.getInstanceOrThrow()\n            .appInfo.websiteBasePath.appendPath(new NormalisedURLPath__default$1.default(\"/\"))\n            .getAsStringDangerous();\n        routes.push(\n            jsxRuntime.jsx(\n                Route,\n                {\n                    path: getPathForRouter(basePath, path),\n                    element: jsxRuntime.jsx(RoutingComponent, {\n                        getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                        preBuiltUIList: recipeList,\n                        path: path,\n                    }),\n                },\n                \"st-/auth\"\n            )\n        );\n    }\n    return routes;\n}\nfunction getPathForRouter(basePath, path) {\n    if (basePath !== undefined) {\n        if (path.startsWith(basePath)) {\n            path = path.slice(basePath.length);\n            if (!path.startsWith(\"/\")) {\n                path = \"/\" + path;\n            }\n        } else {\n            throw new Error(\"basePath has to be a prefix of websiteBasePath passed to SuperTokens.init\");\n        }\n    }\n    return path;\n}\n\nvar UI = /** @class */ (function () {\n    function UI() {}\n    UI.getSuperTokensRoutesForReactRouterDom = function (reactRouterDom, preBuiltUiClassList, basePath) {\n        if (preBuiltUiClassList === void 0) {\n            preBuiltUiClassList = [];\n        }\n        if (reactRouterDom === undefined || preBuiltUiClassList.length === 0) {\n            throw new Error(\n                // eslint-disable-next-line @typescript-eslint/quotes\n                'Please use getSuperTokensRoutesForReactRouterDom like getSuperTokensRoutesForReactRouterDom(require(\"react-router-dom\"), [EmailPasswordPreBuiltUI]) in your render function'\n            );\n        }\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        if (UI.reactRouterDomIsV6 === undefined) {\n            UI.reactRouterDomIsV6 = reactRouterDom.withRouter === undefined;\n        }\n        if (UI.reactRouterDomIsV6) {\n            if (UI.reactRouterDom === undefined) {\n                // this function wraps the react-router-dom v6 useNavigate function in a way\n                // that enforces that it runs within a useEffect. The reason we do this is\n                // cause of https://github.com/remix-run/react-router/issues/7460\n                // which gets shown when visiting a social auth callback url like\n                // /auth/callback/github, without a valid code or state. This then\n                // doesn't navigate the user to the auth page.\n                var useNavigateHookForRRDV6 = function () {\n                    var navigateHook = reactRouterDom.useNavigate();\n                    var _a = React__default.default.useState(undefined),\n                        to = _a[0],\n                        setTo = _a[1];\n                    React__default.default.useEffect(\n                        function () {\n                            if (to !== undefined) {\n                                setTo(undefined);\n                                navigateHook(to);\n                            }\n                        },\n                        [to, navigateHook, setTo]\n                    );\n                    return setTo;\n                };\n                UI.reactRouterDom = {\n                    router: reactRouterDom,\n                    useHistoryCustom: useNavigateHookForRRDV6,\n                    useLocation: reactRouterDom.useLocation,\n                };\n            }\n            return getSuperTokensRoutesForReactRouterDomV6({\n                getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n                recipeList: recipeList,\n                basePath: basePath,\n            });\n        }\n        if (UI.reactRouterDom === undefined) {\n            UI.reactRouterDom = {\n                router: reactRouterDom,\n                useHistoryCustom: reactRouterDom.useHistory,\n                useLocation: reactRouterDom.useLocation,\n            };\n        }\n        return getSuperTokensRoutesForReactRouterDom$1({\n            getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n            recipeList: recipeList,\n            basePath: basePath,\n        });\n    };\n    UI.canHandleRoute = function (preBuiltUiClassList) {\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        var path = utils.getCurrentNormalisedUrlPath().getAsStringDangerous();\n        var isAuthPage =\n            path === superTokens.SuperTokens.getInstanceOrThrow().appInfo.websiteBasePath.getAsStringDangerous();\n        if (isAuthPage) {\n            return !superTokens.SuperTokens.getInstanceOrThrow().disableAuthRoute;\n        }\n        return (\n            RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList(\n                utils.getCurrentNormalisedUrlPath(),\n                recipeList,\n                true\n            ) !== undefined\n        );\n    };\n    UI.getRoutingComponent = function (preBuiltUiClassList) {\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        return jsxRuntime.jsx(RoutingComponent, {\n            getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n            path: utils.getCurrentNormalisedUrlPath().getAsStringDangerous(),\n            preBuiltUIList: recipeList,\n        });\n    };\n    UI.languageTranslations = superTokens.defaultTranslationsCommon;\n    UI.getReactRouterDomWithCustomHistory = function () {\n        return UI.reactRouterDom;\n    };\n    UI.AuthPage = function (props) {\n        return jsxRuntime.jsx(\n            AuthPageWrapper,\n            utils.__assign({}, props, {\n                preBuiltUIList: props.preBuiltUIList.map(function (r) {\n                    return r.getInstanceOrInitAndGetInstance();\n                }),\n            })\n        );\n    };\n    UI.AuthPageTheme = AuthPageTheme;\n    UI.AuthPageFooter = AuthPageFooter;\n    UI.AuthPageHeader = AuthPageHeader;\n    UI.AuthPageComponentList = AuthPageComponentList;\n    UI.AuthRecipeComponentsOverrideContextProvider = Provider;\n    return UI;\n})();\nvar languageTranslations = UI.languageTranslations;\nvar getSuperTokensRoutesForReactRouterDom = UI.getSuperTokensRoutesForReactRouterDom;\nvar canHandleRoute = UI.canHandleRoute;\nvar getRoutingComponent = UI.getRoutingComponent;\nvar AuthPage = UI.AuthPage;\n\nvar SessionAuth = function (_a) {\n    var _b;\n    var children = _a.children,\n        props = utils.__rest(_a, [\"children\"]);\n    var requireAuth = React.useRef(props.requireAuth);\n    if (props.requireAuth !== requireAuth.current) {\n        throw new Error(\n            // eslint-disable-next-line @typescript-eslint/quotes\n            'requireAuth prop should not change. If you are seeing this, it probably means that you are using SessionAuth in multiple routes with different values for requireAuth. To solve this, try adding the \"key\" prop to all uses of SessionAuth like <SessionAuth key=\"someUniqueKeyPerRoute\" requireAuth={...}>'\n        );\n    }\n    // Reusing the parent context was removed because it caused a redirect loop in an edge case\n    // because it'd also reuse the invalid claims part until it loaded.\n    var _c = React.useState({ loading: true }),\n        context = _c[0],\n        setContext = _c[1];\n    var setContextIfChanged = React.useCallback(\n        function (newValue) {\n            setContext(function (oldValue) {\n                // We can't do this check before re-validation because there are be validators that depend on the current time\n                // Since the context is constructed by the same functions the property order should be stable, meaning that\n                // a simple JSON string check should be sufficient.\n                // Plus since this is just an optimization it is fine to have false positives,\n                // and this method won't have false negatives (where we'd miss an update).\n                if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\n                    return newValue;\n                }\n                return oldValue;\n            });\n        },\n        [setContext]\n    );\n    var session = React.useRef();\n    // We store this here, to prevent the list of called hooks changing even if a navigate hook is added later to SuperTokens.\n    var navigateHookRef = React.useRef(\n        (_b = UI.getReactRouterDomWithCustomHistory()) === null || _b === void 0 ? void 0 : _b.useHistoryCustom\n    );\n    var navigate;\n    try {\n        if (navigateHookRef.current) {\n            navigate = navigateHookRef.current();\n        }\n    } catch (_d) {\n        // We catch and ignore errors here, because this is may throw if\n        // the app is using react-router-dom but added a session auth outside of the router.\n    }\n    var userContext = useUserContext();\n    var rethrowInRender = utils.useRethrowInRender();\n    var redirectToLogin = React.useCallback(function () {\n        void superTokens.SuperTokens.getInstanceOrThrow().redirectToAuth({\n            navigate: navigate,\n            userContext: userContext,\n            redirectBack: true,\n        });\n    }, []);\n    var buildContext = React.useCallback(function () {\n        return utils.__awaiter(void 0, void 0, void 0, function () {\n            var sessionExists, invalidClaims, err_1, err_2;\n            var _a;\n            return utils.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (session.current === undefined) {\n                            session.current = types.Session.getInstanceOrThrow();\n                        }\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 1:\n                        sessionExists = _b.sent();\n                        if (sessionExists === false) {\n                            return [\n                                2 /*return*/,\n                                {\n                                    loading: false,\n                                    doesSessionExist: false,\n                                    accessTokenPayload: {},\n                                    invalidClaims: [],\n                                    userId: \"\",\n                                },\n                            ];\n                        }\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 6]);\n                        return [\n                            4 /*yield*/,\n                            session.current.validateClaims({\n                                overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 3:\n                        invalidClaims = _b.sent();\n                        return [3 /*break*/, 6];\n                    case 4:\n                        err_1 = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 5:\n                        // These errors should only come from getAccessTokenPayloadSecurely inside validateClaims if refreshing a claim cleared the session\n                        // Which means that the session was most likely cleared, meaning returning false is right.\n                        // This might also happen if the user provides an override or a custom claim validator that throws (or if we have a bug)\n                        // In which case the session will not be cleared so we rethrow the error\n                        if (_b.sent()) {\n                            throw err_1;\n                        }\n                        return [\n                            2 /*return*/,\n                            {\n                                loading: false,\n                                doesSessionExist: false,\n                                accessTokenPayload: {},\n                                invalidClaims: [],\n                                userId: \"\",\n                            },\n                        ];\n                    case 6:\n                        _b.trys.push([6, 9, , 11]);\n                        _a = {\n                            loading: false,\n                            doesSessionExist: true,\n                            invalidClaims: invalidClaims,\n                        };\n                        return [\n                            4 /*yield*/,\n                            session.current.getAccessTokenPayloadSecurely({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 7:\n                        _a.accessTokenPayload = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.getUserId({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 8:\n                        return [2 /*return*/, ((_a.userId = _b.sent()), _a)];\n                    case 9:\n                        err_2 = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 10:\n                        if (_b.sent()) {\n                            throw err_2;\n                        }\n                        // This means that loading the access token or the userId failed\n                        // This may happen if the server cleared the error since the validation was done which should be extremely rare\n                        return [\n                            2 /*return*/,\n                            {\n                                loading: false,\n                                doesSessionExist: false,\n                                accessTokenPayload: {},\n                                invalidClaims: [],\n                                userId: \"\",\n                            },\n                        ];\n                    case 11:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }, []);\n    var setInitialContextAndMaybeRedirect = React.useCallback(\n        function (toSetContext) {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                var failureRedirectInfo, err_3;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (context.loading === false) {\n                                return [2 /*return*/];\n                            }\n                            if (!(props.doRedirection !== false)) return [3 /*break*/, 8];\n                            if (!toSetContext.doesSessionExist && props.requireAuth !== false) {\n                                redirectToLogin();\n                                return [2 /*return*/];\n                            }\n                            if (!(toSetContext.invalidClaims.length !== 0)) return [3 /*break*/, 8];\n                            failureRedirectInfo = void 0;\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 6, , 7]);\n                            return [\n                                4 /*yield*/,\n                                types.getFailureRedirectionInfo({\n                                    invalidClaims: toSetContext.invalidClaims,\n                                    overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                    userContext: userContext,\n                                }),\n                            ];\n                        case 2:\n                            failureRedirectInfo = _a.sent();\n                            if (!(failureRedirectInfo.redirectPath !== undefined)) return [3 /*break*/, 5];\n                            if (\n                                !types.validateAndCompareOnFailureRedirectionURLToCurrent(\n                                    failureRedirectInfo.redirectPath\n                                )\n                            )\n                                return [3 /*break*/, 3];\n                            setContextIfChanged(toSetContext);\n                            return [2 /*return*/];\n                        case 3:\n                            return [\n                                4 /*yield*/,\n                                superTokens.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                    failureRedirectInfo.redirectPath,\n                                    navigate\n                                ),\n                            ];\n                        case 4:\n                            return [2 /*return*/, _a.sent()];\n                        case 5:\n                            return [3 /*break*/, 7];\n                        case 6:\n                            err_3 = _a.sent();\n                            rethrowInRender(err_3);\n                            throw err_3;\n                        case 7:\n                            if (\n                                props.accessDeniedScreen !== undefined &&\n                                failureRedirectInfo.failedClaim !== undefined\n                            ) {\n                                console.warn({\n                                    message: \"Showing access denied screen because a claim validator failed\",\n                                    claimValidationError: failureRedirectInfo.failedClaim,\n                                });\n                                return [\n                                    2 /*return*/,\n                                    setContextIfChanged(\n                                        utils.__assign(utils.__assign({}, toSetContext), {\n                                            accessDeniedValidatorError: failureRedirectInfo.failedClaim,\n                                        })\n                                    ),\n                                ];\n                            }\n                            _a.label = 8;\n                        case 8:\n                            setContextIfChanged(toSetContext);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        [\n            context.loading,\n            props.doRedirection,\n            props.requireAuth,\n            props.overrideGlobalClaimValidators,\n            props.accessDeniedScreen,\n            redirectToLogin,\n            userContext,\n            navigate,\n        ]\n    );\n    utils.useOnMountAPICall(buildContext, setInitialContextAndMaybeRedirect);\n    // subscribe to events on mount\n    React.useEffect(\n        function () {\n            function onHandleEvent(event) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var _a, invalidClaims, failureRedirectInfo, err_4;\n                    return utils.__generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                _a = event.action;\n                                switch (_a) {\n                                    case \"SESSION_CREATED\":\n                                        return [3 /*break*/, 1];\n                                    case \"REFRESH_SESSION\":\n                                        return [3 /*break*/, 1];\n                                    case \"ACCESS_TOKEN_PAYLOAD_UPDATED\":\n                                        return [3 /*break*/, 1];\n                                    case \"API_INVALID_CLAIM\":\n                                        return [3 /*break*/, 1];\n                                    case \"SIGN_OUT\":\n                                        return [3 /*break*/, 11];\n                                    case \"UNAUTHORISED\":\n                                        return [3 /*break*/, 12];\n                                }\n                                return [3 /*break*/, 13];\n                            case 1:\n                                return [\n                                    4 /*yield*/,\n                                    session.current.validateClaims({\n                                        overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                        userContext: userContext,\n                                    }),\n                                ];\n                            case 2:\n                                invalidClaims = _b.sent();\n                                if (!(props.doRedirection !== false)) return [3 /*break*/, 10];\n                                failureRedirectInfo = void 0;\n                                _b.label = 3;\n                            case 3:\n                                _b.trys.push([3, 8, , 9]);\n                                return [\n                                    4 /*yield*/,\n                                    types.getFailureRedirectionInfo({\n                                        invalidClaims: invalidClaims,\n                                        overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                        userContext: userContext,\n                                    }),\n                                ];\n                            case 4:\n                                failureRedirectInfo = _b.sent();\n                                if (!failureRedirectInfo.redirectPath) return [3 /*break*/, 7];\n                                if (\n                                    !types.validateAndCompareOnFailureRedirectionURLToCurrent(\n                                        failureRedirectInfo.redirectPath\n                                    )\n                                )\n                                    return [3 /*break*/, 5];\n                                setContextIfChanged(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: invalidClaims,\n                                    })\n                                );\n                                return [3 /*break*/, 7];\n                            case 5:\n                                return [\n                                    4 /*yield*/,\n                                    superTokens.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                        failureRedirectInfo.redirectPath,\n                                        navigate\n                                    ),\n                                ];\n                            case 6:\n                                return [2 /*return*/, _b.sent()];\n                            case 7:\n                                return [3 /*break*/, 9];\n                            case 8:\n                                err_4 = _b.sent();\n                                rethrowInRender(err_4);\n                                throw err_4;\n                            case 9:\n                                if (\n                                    props.accessDeniedScreen !== undefined &&\n                                    failureRedirectInfo.failedClaim !== undefined\n                                ) {\n                                    console.warn({\n                                        message: \"Showing access denied screen because a claim validator failed\",\n                                        claimValidationError: failureRedirectInfo.failedClaim,\n                                    });\n                                    return [\n                                        2 /*return*/,\n                                        setContextIfChanged(\n                                            utils.__assign(utils.__assign({}, event.sessionContext), {\n                                                loading: false,\n                                                invalidClaims: invalidClaims,\n                                                accessDeniedValidatorError: failureRedirectInfo.failedClaim,\n                                            })\n                                        ),\n                                    ];\n                                }\n                                _b.label = 10;\n                            case 10:\n                                setContextIfChanged(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: invalidClaims,\n                                    })\n                                );\n                                return [2 /*return*/];\n                            case 11:\n                                setContextIfChanged(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: [],\n                                    })\n                                );\n                                return [2 /*return*/];\n                            case 12:\n                                setContextIfChanged(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: [],\n                                    })\n                                );\n                                if (props.onSessionExpired !== undefined) {\n                                    props.onSessionExpired();\n                                } else if (props.requireAuth !== false && props.doRedirection !== false) {\n                                    redirectToLogin();\n                                }\n                                return [2 /*return*/];\n                            case 13:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            if (session.current === undefined) {\n                session.current = types.Session.getInstanceOrThrow();\n            }\n            if (context.loading === false) {\n                // we return here cause addEventListener returns a function that removes\n                // the listener, and this function will be called by useEffect when\n                // onHandleEvent changes or if the component is unmounting.\n                return session.current.addEventListener(onHandleEvent);\n            }\n            return undefined;\n        },\n        [props, setContextIfChanged, context.loading, userContext, navigate, redirectToLogin]\n    );\n    if (props.requireAuth !== false && (context.loading || !context.doesSessionExist)) {\n        return null;\n    }\n    if (!context.loading && context.accessDeniedValidatorError && props.accessDeniedScreen) {\n        return jsxRuntime.jsx(props.accessDeniedScreen, {\n            userContext: userContext,\n            navigate: navigate,\n            validationError: context.accessDeniedValidatorError,\n        });\n    }\n    return jsxRuntime.jsx(SessionContext.Provider, utils.__assign({ value: context }, { children: children }));\n};\nvar SessionAuthWrapper = function (props) {\n    return jsxRuntime.jsx(\n        UserContextWrapper,\n        utils.__assign(\n            { userContext: props.userContext },\n            { children: jsxRuntime.jsx(SessionAuth, utils.__assign({}, props)) }\n        )\n    );\n};\n\nvar SuperTokensWrapper = function (props) {\n    return jsxRuntime.jsx(SessionAuthWrapper, utils.__assign({}, props, { requireAuth: false, doRedirection: false }));\n};\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * API Wrapper exposed to user.\n */\nvar SuperTokensAPIWrapper = /** @class */ (function () {\n    function SuperTokensAPIWrapper() {}\n    SuperTokensAPIWrapper.init = function (config) {\n        superTokens.SuperTokens.init(config);\n    };\n    SuperTokensAPIWrapper.changeLanguage = function (language) {\n        return superTokens.SuperTokens.getInstanceOrThrow().changeLanguage(language);\n    };\n    SuperTokensAPIWrapper.loadTranslation = function (store) {\n        return superTokens.SuperTokens.getInstanceOrThrow().loadTranslation(store);\n    };\n    SuperTokensAPIWrapper.isRecipeInitialized = function (recipeId) {\n        return superTokens.SuperTokens.getInstanceOrThrow()\n            .recipeList.map(function (recipe) {\n                return recipe.recipeID;\n            })\n            .includes(recipeId);\n    };\n    var _a;\n    _a = SuperTokensAPIWrapper;\n    SuperTokensAPIWrapper.SuperTokensWrapper = SuperTokensWrapper;\n    SuperTokensAPIWrapper.redirectToAuth = function (options) {\n        return utils.__awaiter(void 0, void 0, void 0, function () {\n            var _b;\n            return utils.__generator(_a, function (_c) {\n                return [\n                    2 /*return*/,\n                    superTokens.SuperTokens.getInstanceOrThrow().redirectToAuth(\n                        utils.__assign(utils.__assign({}, options), {\n                            redirectBack:\n                                (_b = options === null || options === void 0 ? void 0 : options.redirectBack) !==\n                                    null && _b !== void 0\n                                    ? _b\n                                    : true,\n                            userContext: utils.getNormalisedUserContext(\n                                options === null || options === void 0 ? void 0 : options.userContext\n                            ),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    SuperTokensAPIWrapper.useTranslation = translationContext.useTranslation;\n    SuperTokensAPIWrapper.getTranslationFunction = superTokens.getTranslationFunction;\n    SuperTokensAPIWrapper.useUserContext = useUserContext;\n    return SuperTokensAPIWrapper;\n})();\nvar init = SuperTokensAPIWrapper.init;\nvar changeLanguage = SuperTokensAPIWrapper.changeLanguage;\nvar loadTranslation = SuperTokensAPIWrapper.loadTranslation;\nvar redirectToAuth = SuperTokensAPIWrapper.redirectToAuth;\nvar isRecipeInitialized = SuperTokensAPIWrapper.isRecipeInitialized;\n\nexports.AuthPage = AuthPage;\nexports.AuthPageComponentList = AuthPageComponentList;\nexports.AuthPageFooter = AuthPageFooter;\nexports.AuthPageHeader = AuthPageHeader;\nexports.AuthPageTheme = AuthPageTheme;\nexports.BackButton = BackButton;\nexports.ComponentOverrideContext = ComponentOverrideContext;\nexports.DynamicLoginMethodsSpinner = DynamicLoginMethodsSpinner;\nexports.FeatureWrapper = FeatureWrapper;\nexports.GeneralError = GeneralError;\nexports.Provider = Provider;\nexports.RecipeRouter = RecipeRouter;\nexports.SessionAuthWrapper = SessionAuthWrapper;\nexports.SessionContext = SessionContext;\nexports.SpinnerIcon = SpinnerIcon;\nexports.SuperTokensAPIWrapper = SuperTokensAPIWrapper;\nexports.SuperTokensBranding = SuperTokensBranding;\nexports.SuperTokensWrapper = SuperTokensWrapper;\nexports.UI = UI;\nexports.UserContextContext = UserContextContext;\nexports.UserContextWrapper = UserContextWrapper;\nexports.canHandleRoute = canHandleRoute;\nexports.changeLanguage = changeLanguage;\nexports.getRoutingComponent = getRoutingComponent;\nexports.getSuperTokensRoutesForReactRouterDom = getSuperTokensRoutesForReactRouterDom;\nexports.init = init;\nexports.isRecipeInitialized = isRecipeInitialized;\nexports.languageTranslations = languageTranslations;\nexports.loadTranslation = loadTranslation;\nexports.redirectToAuth = redirectToAuth;\nexports.useDynamicLoginMethods = useDynamicLoginMethods;\nexports.useSessionContext = useSessionContext;\nexports.useUserContext = useUserContext;\nexports.withOverride = withOverride;\n"],
  "mappings": "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",
  "names": ["require_utils", "MultiFactorAuthClaimClass", "require_sessionClaimValidatorStore", "d", "b", "Recipe", "RecipeWrapper", "require_multifactorauth", "require_sessionClaimValidatorStore", "require_sessionClaimValidatorStore", "MultiFactorAuthClaimClass", "MultiFactorAuth", "_a", "recipe", "AuthPageComponentList", "i", "AuthPageFooter", "AuthPageHeader", "ui", "id", "a", "rid", "factorsProvided", "includes", "RecipeRouter", "routePath", "routeComps", "c", "routes", "path", "UI", "_b", "SuperTokensAPIWrapper"]
}
